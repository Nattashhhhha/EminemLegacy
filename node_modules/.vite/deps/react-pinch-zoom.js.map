{
  "version": 3,
  "sources": ["../../react-pinch-zoom/dist/react-pinch-zoom.js"],
  "sourcesContent": ["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactPinchZoom\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"ReactPinchZoom\"] = factory(root[\"React\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tmodule.exports = __webpack_require__(1).default;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\n\tvar _createClass = function () {\n\t    function defineProperties(target, props) {\n\t        for (var i = 0; i < props.length; i++) {\n\t            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n\t        }\n\t    }return function (Constructor, protoProps, staticProps) {\n\t        if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n\t    };\n\t}();\n\n\tvar _react = __webpack_require__(2);\n\n\tvar _react2 = _interopRequireDefault(_react);\n\n\tvar _photoswipe = __webpack_require__(3);\n\n\tvar _photoswipe2 = _interopRequireDefault(_photoswipe);\n\n\tvar _photoswipeUiDefault = __webpack_require__(4);\n\n\tvar _photoswipeUiDefault2 = _interopRequireDefault(_photoswipeUiDefault);\n\n\tvar _classnames = __webpack_require__(5);\n\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\n\tvar _events = __webpack_require__(6);\n\n\tvar _events2 = _interopRequireDefault(_events);\n\n\tvar _camelcase = __webpack_require__(7);\n\n\tvar _camelcase2 = _interopRequireDefault(_camelcase);\n\n\t__webpack_require__(8);\n\n\tfunction _interopRequireDefault(obj) {\n\t    return obj && obj.__esModule ? obj : { default: obj };\n\t}\n\n\tfunction _toConsumableArray(arr) {\n\t    if (Array.isArray(arr)) {\n\t        for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n\t            arr2[i] = arr[i];\n\t        }return arr2;\n\t    } else {\n\t        return Array.from(arr);\n\t    }\n\t}\n\n\tfunction _classCallCheck(instance, Constructor) {\n\t    if (!(instance instanceof Constructor)) {\n\t        throw new TypeError(\"Cannot call a class as a function\");\n\t    }\n\t}\n\n\tfunction _possibleConstructorReturn(self, call) {\n\t    if (!self) {\n\t        throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n\t    }return call && ((typeof call === \"undefined\" ? \"undefined\" : _typeof(call)) === \"object\" || typeof call === \"function\") ? call : self;\n\t}\n\n\tfunction _inherits(subClass, superClass) {\n\t    if (typeof superClass !== \"function\" && superClass !== null) {\n\t        throw new TypeError(\"Super expression must either be null or a function, not \" + (typeof superClass === \"undefined\" ? \"undefined\" : _typeof(superClass)));\n\t    }subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n\t}\n\n\tvar BASE_CLASS = 'zvui-pinch';\n\n\tvar PinchZoom = function (_Component) {\n\t    _inherits(PinchZoom, _Component);\n\n\t    function PinchZoom() {\n\t        var _ref;\n\n\t        var _temp, _this2, _ret;\n\n\t        _classCallCheck(this, PinchZoom);\n\n\t        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t            args[_key] = arguments[_key];\n\t        }\n\n\t        return _ret = (_temp = (_this2 = _possibleConstructorReturn(this, (_ref = PinchZoom.__proto__ || Object.getPrototypeOf(PinchZoom)).call.apply(_ref, [this].concat(args))), _this2), _initialiseProps.call(_this2), _temp), _possibleConstructorReturn(_this2, _ret);\n\t    }\n\n\t    _createClass(PinchZoom, [{\n\t        key: 'render',\n\t        value: function render() {\n\t            var id = this.props.id;\n\t            var className = this.props.className;\n\n\t            className = (0, _classnames2.default)([BASE_CLASS, className]).trim();\n\n\t            return _react2.default.createElement('div', { id: id, className: className, tabIndex: '-1', role: 'dialog', ref: (0, _camelcase2.default)(BASE_CLASS) }, _react2.default.createElement('div', { className: BASE_CLASS + '__bg' }), _react2.default.createElement('div', { className: BASE_CLASS + '__scroll-wrap' }, _react2.default.createElement('div', { className: BASE_CLASS + '__container' }, _react2.default.createElement('div', { className: BASE_CLASS + '__item' }), _react2.default.createElement('div', { className: BASE_CLASS + '__item' }), _react2.default.createElement('div', { className: BASE_CLASS + '__item' })), _react2.default.createElement('div', { className: BASE_CLASS + '__ui ' + BASE_CLASS + '__ui--hidden' }, _react2.default.createElement('div', { className: BASE_CLASS + '__top-bar' }, _react2.default.createElement('button', { className: BASE_CLASS + '__button ' + BASE_CLASS + '__button--close', title: 'Close (Esc)' }), _react2.default.createElement('div', { className: BASE_CLASS + '__preloader' })))));\n\t        }\n\t    }]);\n\n\t    return PinchZoom;\n\t}(_react.Component);\n\n\tPinchZoom.propTypes = {\n\t    isOpen: _react.PropTypes.bool.isRequired,\n\t    items: _react.PropTypes.array.isRequired,\n\t    options: _react.PropTypes.object,\n\t    onClose: _react.PropTypes.func,\n\t    id: _react.PropTypes.string,\n\t    className: _react.PropTypes.string\n\t};\n\tPinchZoom.defaultProps = {\n\t    items: [],\n\t    options: {}\n\t};\n\n\tvar _initialiseProps = function _initialiseProps() {\n\t    var _this3 = this;\n\n\t    this.state = {\n\t        isOpen: false\n\t    };\n\n\t    this.componentDidMount = function () {\n\t        var isOpen = _this3.state.isOpen;\n\n\t        if (isOpen) {\n\t            _this3.openPhotoSwipe(_this3.props);\n\t        }\n\t    };\n\n\t    this.componentWillReceiveProps = function (nextProps) {\n\t        var isOpen = _this3.state.isOpen;\n\n\t        if (nextProps.isOpen) {\n\t            if (!isOpen) {\n\t                _this3.openPhotoSwipe(nextProps);\n\t            } else {\n\t                _this3.updateItems(nextProps.items);\n\t            }\n\t        } else if (isOpen) {\n\t            _this3.closePhotoSwipe();\n\t        }\n\t    };\n\n\t    this.componentWillUnmount = function () {\n\t        _this3.closePhotoSwipe();\n\t    };\n\n\t    this.openPhotoSwipe = function (props) {\n\t        var items = props.items;\n\t        var options = props.options;\n\n\t        var _this = _this3;\n\n\t        var zvuiPinchElement = _this.refs[(0, _camelcase2.default)(BASE_CLASS)];\n\t        _this.zvuiPinch = new _photoswipe2.default(zvuiPinchElement, _photoswipeUiDefault2.default, items, options);\n\n\t        _events2.default.forEach(function (event) {\n\t            var callback = props[event];\n\t            if (callback || event === 'destroy') {\n\t                _this.zvuiPinch.listen(event, function () {\n\t                    if (callback) {\n\t                        var _args = arguments.length === 1 ? [arguments[0]] : Array.apply(null, arguments);\n\t                        _args.unshift(_this);\n\t                        callback.apply(undefined, _toConsumableArray(_args));\n\t                    }\n\t                    if (event === 'destroy') {\n\t                        _this.handleClose();\n\t                    }\n\t                });\n\t            }\n\t        });\n\t        _this.setState({\n\t            isOpen: true\n\t        }, function () {\n\t            _this.zvuiPinch.init();\n\t        });\n\t    };\n\n\t    this.updateItems = function () {\n\t        var items = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n\t        _this3.zvuiPinch.items.length = 0;\n\t        items.forEach(function (item) {\n\t            _this3.zvuiPinch.items.push(item);\n\t        });\n\t    };\n\n\t    this.closePhotoSwipe = function () {\n\t        if (!_this3.zvuiPinch) {\n\t            return;\n\t        }\n\t        _this3.zvuiPinch.close();\n\t    };\n\n\t    this.handleClose = function () {\n\t        var onClose = _this3.props.onClose;\n\n\t        _this3.setState({\n\t            isOpen: false\n\t        }, function () {\n\t            if (onClose) {\n\t                onClose();\n\t            }\n\t        });\n\t    };\n\t};\n\n\texports.default = PinchZoom;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n\t(function (root, factory) {\n\t    if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    } else if ((typeof exports === 'undefined' ? 'undefined' : _typeof(exports)) === 'object') {\n\t        module.exports = factory(require, exports, module);\n\t    } else {\n\t        root.ZVUIPinch = factory();\n\t    }\n\t})(undefined, function (require, exports, module) {\n\n\t    return function (template, UiClass, items, options) {\n\t        /**\n\t        *\n\t        * Set of generic functions used by gallery.\n\t        *\n\t        * You're free to modify anything here as long as functionality is kept.\n\t        *\n\t        */\n\t        var helper = {\n\t            features: null,\n\t            bind: function bind(target, type, listener, unbind) {\n\t                var methodName = (unbind ? 'remove' : 'add') + 'EventListener';\n\t                type = type.split(' ');\n\t                for (var i = 0; i < type.length; i++) {\n\t                    if (type[i]) {\n\t                        target[methodName](type[i], listener, false);\n\t                    }\n\t                }\n\t            },\n\t            isArray: function isArray(obj) {\n\t                return obj instanceof Array;\n\t            },\n\t            createEl: function createEl(classes, tag) {\n\t                var el = document.createElement(tag || 'div');\n\t                if (classes) {\n\t                    el.className = classes;\n\t                }\n\t                return el;\n\t            },\n\t            getScrollY: function getScrollY() {\n\t                var yOffset = window.pageYOffset;\n\t                return yOffset !== undefined ? yOffset : document.documentElement.scrollTop;\n\t            },\n\t            unbind: function unbind(target, type, listener) {\n\t                helper.bind(target, type, listener, true);\n\t            },\n\t            removeClass: function removeClass(el, className) {\n\t                var reg = new RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\n\t                el.className = el.className.replace(reg, ' ').replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n\t            },\n\t            addClass: function addClass(el, className) {\n\t                if (!helper.hasClass(el, className)) {\n\t                    el.className += (el.className ? ' ' : '') + className;\n\t                }\n\t            },\n\t            hasClass: function hasClass(el, className) {\n\t                return el.className && new RegExp('(^|\\\\s)' + className + '(\\\\s|$)').test(el.className);\n\t            },\n\t            getChildByClass: function getChildByClass(parentEl, childClassName) {\n\t                var node = parentEl.firstChild;\n\t                while (node) {\n\t                    if (helper.hasClass(node, childClassName)) {\n\t                        return node;\n\t                    }\n\t                    node = node.nextSibling;\n\t                }\n\t            },\n\t            arraySearch: function arraySearch(array, value, key) {\n\t                var i = array.length;\n\t                while (i--) {\n\t                    if (array[i][key] === value) {\n\t                        return i;\n\t                    }\n\t                }\n\t                return -1;\n\t            },\n\t            extend: function extend(o1, o2, preventOverwrite) {\n\t                for (var prop in o2) {\n\t                    if (o2.hasOwnProperty(prop)) {\n\t                        if (preventOverwrite && o1.hasOwnProperty(prop)) {\n\t                            continue;\n\t                        }\n\t                        o1[prop] = o2[prop];\n\t                    }\n\t                }\n\t            },\n\n\t            easing: {\n\t                sine: {\n\t                    out: function out(k) {\n\t                        return Math.sin(k * (Math.PI / 2));\n\t                    },\n\t                    inOut: function inOut(k) {\n\t                        return -(Math.cos(Math.PI * k) - 1) / 2;\n\t                    }\n\t                },\n\t                cubic: {\n\t                    out: function out(k) {\n\t                        return --k * k * k + 1;\n\t                    }\n\t                }\n\t            },\n\n\t            /**\n\t             *\n\t             * @return {object}\n\t             *\n\t             * {\n\t             *  raf : request animation frame function\n\t             *  caf : cancel animation frame function\n\t             *  transfrom : transform property key (with vendor), or null if not supported\n\t             *  oldIE : IE8 or below\n\t             * }\n\t             *\n\t             */\n\t            detectFeatures: function detectFeatures() {\n\t                if (helper.features) {\n\t                    return helper.features;\n\t                }\n\t                var helperEl = helper.createEl();\n\t                var helperStyle = helperEl.style;\n\t                var vendor = '';\n\t                var features = {};\n\n\t                // IE8 and below\n\t                features.oldIE = document.all && !document.addEventListener;\n\n\t                features.touch = 'ontouchstart' in window;\n\n\t                if (window.requestAnimationFrame) {\n\t                    features.raf = window.requestAnimationFrame;\n\t                    features.caf = window.cancelAnimationFrame;\n\t                }\n\n\t                features.pointerEvent = navigator.pointerEnabled || navigator.msPointerEnabled;\n\n\t                // fix false-positive detection of old Android in new IE\n\t                // (IE11 ua string contains \"Android 4.0\")\n\n\t                if (!features.pointerEvent) {\n\n\t                    var ua = navigator.userAgent;\n\n\t                    // Detect if device is iPhone or iPod and if it's older than iOS 8\n\t                    // http://stackoverflow.com/a/14223920\n\t                    //\n\t                    // This detection is made because of buggy top/bottom toolbars\n\t                    // that don't trigger window.resize event.\n\t                    // For more info refer to _isFixedPosition variable in core.js\n\n\t                    if (/iP(hone|od)/.test(navigator.platform)) {\n\t                        var v = navigator.appVersion.match(/OS (\\d+)_(\\d+)_?(\\d+)?/);\n\t                        if (v && v.length > 0) {\n\t                            v = parseInt(v[1], 10);\n\t                            if (v >= 1 && v < 8) {\n\t                                features.isOldIOSPhone = true;\n\t                            }\n\t                        }\n\t                    }\n\n\t                    // Detect old Android (before KitKat)\n\t                    // due to bugs related to position:fixed\n\t                    // http://stackoverflow.com/questions/7184573/pick-up-the-android-version-in-the-browser-by-javascript\n\n\t                    var match = ua.match(/Android\\s([0-9\\.]*)/);\n\t                    var androidversion = match ? match[1] : 0;\n\t                    androidversion = parseFloat(androidversion);\n\t                    if (androidversion >= 1) {\n\t                        if (androidversion < 4.4) {\n\t                            features.isOldAndroid = true; // for fixed position bug & performance\n\t                        }\n\t                        features.androidVersion = androidversion; // for touchend bug\n\t                    }\n\t                    features.isMobileOpera = /opera mini|opera mobi/i.test(ua);\n\n\t                    // p.s. yes, yes, UA sniffing is bad, propose your solution for above bugs.\n\t                }\n\n\t                var styleChecks = ['transform', 'perspective', 'animationName'];\n\t                var vendors = ['', 'webkit', 'Moz', 'ms', 'O'];\n\t                var styleCheckItem = void 0;\n\t                var styleName = void 0;\n\n\t                for (var i = 0; i < 4; i++) {\n\t                    vendor = vendors[i];\n\n\t                    for (var a = 0; a < 3; a++) {\n\t                        styleCheckItem = styleChecks[a];\n\n\t                        // uppercase first letter of property name, if vendor is present\n\t                        styleName = vendor + (vendor ? styleCheckItem.charAt(0).toUpperCase() + styleCheckItem.slice(1) : styleCheckItem);\n\n\t                        if (!features[styleCheckItem] && styleName in helperStyle) {\n\t                            features[styleCheckItem] = styleName;\n\t                        }\n\t                    }\n\n\t                    if (vendor && !features.raf) {\n\t                        vendor = vendor.toLowerCase();\n\t                        features.raf = window[vendor + 'RequestAnimationFrame'];\n\t                        if (features.raf) {\n\t                            features.caf = window[vendor + 'CancelAnimationFrame'] || window[vendor + 'CancelRequestAnimationFrame'];\n\t                        }\n\t                    }\n\t                }\n\n\t                if (!features.raf) {\n\t                    (function () {\n\t                        var lastTime = 0;\n\t                        features.raf = function (fn) {\n\t                            var currTime = new Date().getTime();\n\t                            var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n\t                            var id = window.setTimeout(function () {\n\t                                fn(currTime + timeToCall);\n\t                            }, timeToCall);\n\t                            lastTime = currTime + timeToCall;\n\t                            return id;\n\t                        };\n\t                        features.caf = function (id) {\n\t                            clearTimeout(id);\n\t                        };\n\t                    })();\n\t                }\n\n\t                // Detect SVG support\n\t                features.svg = !!document.createElementNS && !!document.createElementNS('http://www.w3.org/2000/svg', 'svg').createSVGRect;\n\n\t                helper.features = features;\n\n\t                return features;\n\t            }\n\t        };\n\n\t        helper.detectFeatures();\n\n\t        // Override addEventListener for old versions of IE\n\t        if (helper.features.oldIE) {\n\n\t            helper.bind = function (target, type, listener, unbind) {\n\t                type = type.split(' ');\n\n\t                var methodName = (unbind ? 'detach' : 'attach') + 'Event';\n\t                var evName = void 0;\n\n\t                var _handleEv = function _handleEv() {\n\t                    listener.handleEvent.call(listener);\n\t                };\n\n\t                for (var i = 0; i < type.length; i++) {\n\t                    evName = type[i];\n\t                    if (evName) {\n\n\t                        if ((typeof listener === 'undefined' ? 'undefined' : _typeof(listener)) === 'object' && listener.handleEvent) {\n\t                            if (!unbind) {\n\t                                listener['oldIE' + evName] = _handleEv;\n\t                            } else {\n\t                                if (!listener['oldIE' + evName]) {\n\t                                    return false;\n\t                                }\n\t                            }\n\n\t                            target[methodName]('on' + evName, listener['oldIE' + evName]);\n\t                        } else {\n\t                            target[methodName]('on' + evName, listener);\n\t                        }\n\t                    }\n\t                }\n\t            };\n\t        }\n\n\t        //function(template, UiClass, items, options)\n\n\t        var self = this;\n\n\t        /**\n\t         * Static vars, don't change unless you know what you're doing.\n\t         */\n\t        var DOUBLE_TAP_RADIUS = 25;\n\n\t        var NUM_HOLDERS = 3;\n\n\t        /**\n\t         * Options\n\t         */\n\t        var _options = {\n\t            allowPanToNext: true,\n\t            spacing: 0.12,\n\t            bgOpacity: 1,\n\t            mouseUsed: false,\n\t            loop: true,\n\t            pinchToClose: true,\n\t            closeOnScroll: true,\n\t            closeOnVerticalDrag: true,\n\t            verticalDragRange: 0.75,\n\t            hideAnimationDuration: 333,\n\t            showAnimationDuration: 333,\n\t            showHideOpacity: false,\n\t            focus: true,\n\t            escKey: true,\n\t            arrowKeys: true,\n\t            mainScrollEndFriction: 0.35,\n\t            panEndFriction: 0.35,\n\t            isClickableElement: function isClickableElement(el) {\n\t                return el.tagName === 'A';\n\t            },\n\t            getDoubleTapZoom: function getDoubleTapZoom(isMouseClick, item) {\n\t                if (isMouseClick) {\n\t                    return 1;\n\t                } else {\n\t                    return item.initialZoomLevel < 0.7 ? 1 : 1.33;\n\t                }\n\t            },\n\n\t            maxSpreadZoom: 1.33,\n\t            modal: true,\n\n\t            // not fully implemented yet\n\t            scaleMode: 'fit' };\n\t        helper.extend(_options, options);\n\n\t        /**\n\t         * Private helper variables & functions\n\t         */\n\n\t        var _getEmptyPoint = function _getEmptyPoint() {\n\t            return {\n\t                x: 0,\n\t                y: 0\n\t            };\n\t        };\n\n\t        var _isOpen = void 0;\n\t        var _isDestroying = void 0;\n\t        var _closedByScroll = void 0;\n\t        var _currentItemIndex = void 0;\n\t        var _containerStyle = void 0;\n\t        var _containerShiftIndex = void 0;\n\t        var _currPanDist = _getEmptyPoint();\n\t        var _startPanOffset = _getEmptyPoint();\n\t        var _panOffset = _getEmptyPoint();\n\n\t        var // drag move, drag end & drag cancel events array\n\t        _upMoveEvents = void 0;\n\n\t        var // drag start events array\n\t        _downEvents = void 0;\n\n\t        var _globalEventHandlers = void 0;\n\t        var _viewportSize = {};\n\t        var _currZoomLevel = void 0;\n\t        var _startZoomLevel = void 0;\n\t        var _translatePrefix = void 0;\n\t        var _translateSufix = void 0;\n\t        var _updateSizeInterval = void 0;\n\t        var _itemsNeedUpdate = void 0;\n\t        var _currPositionIndex = 0;\n\t        var _offset = {};\n\n\t        var // size of slide area, including spacing\n\t        _slideSize = _getEmptyPoint();\n\n\t        var _itemHolders = void 0;\n\t        var _prevItemIndex = void 0;\n\n\t        var // difference of indexes since last content update\n\t        _indexDiff = 0;\n\n\t        var _dragStartEvent = void 0;\n\t        var _dragMoveEvent = void 0;\n\t        var _dragEndEvent = void 0;\n\t        var _dragCancelEvent = void 0;\n\t        var _transformKey = void 0;\n\t        var _pointerEventEnabled = void 0;\n\t        var _isFixedPosition = true;\n\t        var _likelyTouchDevice = void 0;\n\t        var _modules = [];\n\t        var _requestAF = void 0;\n\t        var _cancelAF = void 0;\n\t        var _initalClassName = void 0;\n\t        var _initalWindowScrollY = void 0;\n\t        var _oldIE = void 0;\n\t        var _currentWindowScrollY = void 0;\n\t        var _features = void 0;\n\t        var _windowVisibleSize = {};\n\t        var _renderMaxResolution = false;\n\n\t        var // Registers PhotoSWipe module (History, Controller ...)\n\t        _registerModule = function _registerModule(name, module) {\n\t            helper.extend(self, module.publicMethods);\n\t            _modules.push(name);\n\t        };\n\n\t        var _getLoopedId = function _getLoopedId(index) {\n\t            var numSlides = _getNumItems();\n\t            if (index > numSlides - 1) {\n\t                return index - numSlides;\n\t            } else if (index < 0) {\n\t                return numSlides + index;\n\t            }\n\t            return index;\n\t        };\n\n\t        var // Micro bind/trigger\n\t        _listeners = {};\n\n\t        var _listen = function _listen(name, fn) {\n\t            if (!_listeners[name]) {\n\t                _listeners[name] = [];\n\t            }\n\t            return _listeners[name].push(fn);\n\t        };\n\n\t        var _shout = function _shout(name) {\n\t            var listeners = _listeners[name];\n\n\t            if (listeners) {\n\t                var args = Array.prototype.slice.call(arguments);\n\t                args.shift();\n\n\t                for (var i = 0; i < listeners.length; i++) {\n\t                    listeners[i].apply(self, args);\n\t                }\n\t            }\n\t        };\n\n\t        var _getCurrentTime = function _getCurrentTime() {\n\t            return new Date().getTime();\n\t        };\n\n\t        var _applyBgOpacity = function _applyBgOpacity(opacity) {\n\t            _bgOpacity = opacity;\n\t            self.bg.style.opacity = opacity * _options.bgOpacity;\n\t        };\n\n\t        var _applyZoomTransform = function _applyZoomTransform(styleObj, x, y, zoom, item) {\n\t            if (!_renderMaxResolution || item && item !== self.currItem) {\n\t                zoom = zoom / (item ? item.fitRatio : self.currItem.fitRatio);\n\t            }\n\n\t            styleObj[_transformKey] = _translatePrefix + x + 'px, ' + y + 'px' + _translateSufix + ' scale(' + zoom + ')';\n\t        };\n\n\t        var _applyCurrentZoomPan = function _applyCurrentZoomPan(allowRenderResolution) {\n\t            if (_currZoomElementStyle) {\n\n\t                if (allowRenderResolution) {\n\t                    if (_currZoomLevel > self.currItem.fitRatio) {\n\t                        if (!_renderMaxResolution) {\n\t                            _setImageSize(self.currItem, false, true);\n\t                            _renderMaxResolution = true;\n\t                        }\n\t                    } else {\n\t                        if (_renderMaxResolution) {\n\t                            _setImageSize(self.currItem);\n\t                            _renderMaxResolution = false;\n\t                        }\n\t                    }\n\t                }\n\n\t                _applyZoomTransform(_currZoomElementStyle, _panOffset.x, _panOffset.y, _currZoomLevel);\n\t            }\n\t        };\n\n\t        var _applyZoomPanToItem = function _applyZoomPanToItem(item) {\n\t            if (item.container) {\n\n\t                _applyZoomTransform(item.container.style, item.initialPosition.x, item.initialPosition.y, item.initialZoomLevel, item);\n\t            }\n\t        };\n\n\t        var _setTranslateX = function _setTranslateX(x, elStyle) {\n\t            elStyle[_transformKey] = _translatePrefix + x + 'px, 0px' + _translateSufix;\n\t        };\n\n\t        var _moveMainScroll = function _moveMainScroll(x, dragging) {\n\n\t            if (!_options.loop && dragging) {\n\t                var newSlideIndexOffset = _currentItemIndex + (_slideSize.x * _currPositionIndex - x) / _slideSize.x;\n\t                var _delta = Math.round(x - _mainScrollPos.x);\n\n\t                if (newSlideIndexOffset < 0 && _delta > 0 || newSlideIndexOffset >= _getNumItems() - 1 && _delta < 0) {\n\t                    x = _mainScrollPos.x + _delta * _options.mainScrollEndFriction;\n\t                }\n\t            }\n\n\t            _mainScrollPos.x = x;\n\t            _setTranslateX(x, _containerStyle);\n\t        };\n\n\t        var _calculatePanOffset = function _calculatePanOffset(axis, zoomLevel) {\n\t            var m = _midZoomPoint[axis] - _offset[axis];\n\t            return _startPanOffset[axis] + _currPanDist[axis] + m - m * (zoomLevel / _startZoomLevel);\n\t        };\n\n\t        var _equalizePoints = function _equalizePoints(p1, p2) {\n\t            p1.x = p2.x;\n\t            p1.y = p2.y;\n\t            if (p2.id) {\n\t                p1.id = p2.id;\n\t            }\n\t        };\n\n\t        var _roundPoint = function _roundPoint(p) {\n\t            p.x = Math.round(p.x);\n\t            p.y = Math.round(p.y);\n\t        };\n\n\t        var _mouseMoveTimeout = null;\n\n\t        var _onFirstMouseMove = function _onFirstMouseMove() {\n\t            // Wait until mouse move event is fired at least twice during 100ms\n\t            // We do this, because some mobile browsers trigger it on touchstart\n\t            if (_mouseMoveTimeout) {\n\t                helper.unbind(document, 'mousemove', _onFirstMouseMove);\n\t                helper.addClass(template, 'zvui-pinch--has_mouse');\n\t                _options.mouseUsed = true;\n\t                _shout('mouseUsed');\n\t            }\n\t            _mouseMoveTimeout = setTimeout(function () {\n\t                _mouseMoveTimeout = null;\n\t            }, 100);\n\t        };\n\n\t        var _bindEvents = function _bindEvents() {\n\t            helper.bind(document, 'keydown', self);\n\n\t            if (_features.transform) {\n\t                // don't bind click event in browsers that don't support transform (mostly IE8)\n\t                helper.bind(self.scrollWrap, 'click', self);\n\t            }\n\n\t            if (!_options.mouseUsed) {\n\t                helper.bind(document, 'mousemove', _onFirstMouseMove);\n\t            }\n\n\t            helper.bind(window, 'resize scroll', self);\n\n\t            _shout('bindEvents');\n\t        };\n\n\t        var _unbindEvents = function _unbindEvents() {\n\t            helper.unbind(window, 'resize', self);\n\t            helper.unbind(window, 'scroll', _globalEventHandlers.scroll);\n\t            helper.unbind(document, 'keydown', self);\n\t            helper.unbind(document, 'mousemove', _onFirstMouseMove);\n\n\t            if (_features.transform) {\n\t                helper.unbind(self.scrollWrap, 'click', self);\n\t            }\n\n\t            if (_isDragging) {\n\t                helper.unbind(window, _upMoveEvents, self);\n\t            }\n\n\t            _shout('unbindEvents');\n\t        };\n\n\t        var _calculatePanBounds = function _calculatePanBounds(zoomLevel, update) {\n\t            var bounds = _calculateItemSize(self.currItem, _viewportSize, zoomLevel);\n\t            if (update) {\n\t                _currPanBounds = bounds;\n\t            }\n\t            return bounds;\n\t        };\n\n\t        var _getMinZoomLevel = function _getMinZoomLevel(item) {\n\t            if (!item) {\n\t                item = self.currItem;\n\t            }\n\t            return item.initialZoomLevel;\n\t        };\n\n\t        var _getMaxZoomLevel = function _getMaxZoomLevel(item) {\n\t            if (!item) {\n\t                item = self.currItem;\n\t            }\n\t            return item.w > 0 ? _options.maxSpreadZoom : 1;\n\t        };\n\n\t        // Return true if offset is out of the bounds\n\t        var _modifyDestPanOffset = function _modifyDestPanOffset(axis, destPanBounds, destPanOffset, destZoomLevel) {\n\t            if (destZoomLevel === self.currItem.initialZoomLevel) {\n\t                destPanOffset[axis] = self.currItem.initialPosition[axis];\n\t                return true;\n\t            } else {\n\t                destPanOffset[axis] = _calculatePanOffset(axis, destZoomLevel);\n\n\t                if (destPanOffset[axis] > destPanBounds.min[axis]) {\n\t                    destPanOffset[axis] = destPanBounds.min[axis];\n\t                    return true;\n\t                } else if (destPanOffset[axis] < destPanBounds.max[axis]) {\n\t                    destPanOffset[axis] = destPanBounds.max[axis];\n\t                    return true;\n\t                }\n\t            }\n\t            return false;\n\t        };\n\n\t        var _setupTransforms = function _setupTransforms() {\n\n\t            if (_transformKey) {\n\t                // setup 3d transforms\n\t                var allow3dTransform = _features.perspective && !_likelyTouchDevice;\n\t                _translatePrefix = 'translate' + (allow3dTransform ? '3d(' : '(');\n\t                _translateSufix = _features.perspective ? ', 0px)' : ')';\n\t                return;\n\t            }\n\n\t            // Override zoom/pan/move functions in case old browser is used (most likely IE)\n\t            // (so they use left/top/width/height, instead of CSS transform)\n\n\t            _transformKey = 'left';\n\t            helper.addClass(template, 'zvui-pinch--ie');\n\n\t            _setTranslateX = function _setTranslateX(x, elStyle) {\n\t                elStyle.left = x + 'px';\n\t            };\n\t            _applyZoomPanToItem = function _applyZoomPanToItem(item) {\n\t                var zoomRatio = item.fitRatio > 1 ? 1 : item.fitRatio;\n\t                var s = item.container.style;\n\t                var w = zoomRatio * item.w;\n\t                var h = zoomRatio * item.h;\n\n\t                s.width = w + 'px';\n\t                s.height = h + 'px';\n\t                s.left = item.initialPosition.x + 'px';\n\t                s.top = item.initialPosition.y + 'px';\n\t            };\n\t            _applyCurrentZoomPan = function _applyCurrentZoomPan() {\n\t                if (_currZoomElementStyle) {\n\t                    var s = _currZoomElementStyle;\n\t                    var item = self.currItem;\n\t                    var zoomRatio = item.fitRatio > 1 ? 1 : item.fitRatio;\n\t                    var w = zoomRatio * item.w;\n\t                    var h = zoomRatio * item.h;\n\n\t                    s.width = w + 'px';\n\t                    s.height = h + 'px';\n\n\t                    s.left = _panOffset.x + 'px';\n\t                    s.top = _panOffset.y + 'px';\n\t                }\n\t            };\n\t        };\n\n\t        var _onKeyDown = function _onKeyDown(e) {\n\t            var keydownAction = '';\n\t            if (_options.escKey && e.keyCode === 27) {\n\t                keydownAction = 'close';\n\t            } else if (_options.arrowKeys) {\n\t                if (e.keyCode === 37) {\n\t                    keydownAction = 'prev';\n\t                } else if (e.keyCode === 39) {\n\t                    keydownAction = 'next';\n\t                }\n\t            }\n\n\t            if (keydownAction) {\n\t                // don't do anything if special key pressed to prevent from overriding default browser actions\n\t                // e.g. in Chrome on Mac cmd+arrow-left returns to previous page\n\t                if (!e.ctrlKey && !e.altKey && !e.shiftKey && !e.metaKey) {\n\t                    if (e.preventDefault) {\n\t                        e.preventDefault();\n\t                    } else {\n\t                        e.returnValue = false;\n\t                    }\n\t                    self[keydownAction]();\n\t                }\n\t            }\n\t        };\n\n\t        var _onGlobalClick = function _onGlobalClick(e) {\n\t            if (!e) {\n\t                return;\n\t            }\n\n\t            // don't allow click event to pass through when triggering after drag or some other gesture\n\t            if (_moved || _zoomStarted || _mainScrollAnimating || _verticalDragInitiated) {\n\t                e.preventDefault();\n\t                e.stopPropagation();\n\t            }\n\t        };\n\n\t        var _updatePageScrollOffset = function _updatePageScrollOffset() {\n\t            self.setScrollOffset(0, helper.getScrollY());\n\t        };\n\n\t        // Micro animation engine\n\t        var _animations = {};\n\n\t        var _numAnimations = 0;\n\n\t        var _stopAnimation = function _stopAnimation(name) {\n\t            if (_animations[name]) {\n\t                if (_animations[name].raf) {\n\t                    _cancelAF(_animations[name].raf);\n\t                }\n\t                _numAnimations--;\n\t                delete _animations[name];\n\t            }\n\t        };\n\n\t        var _registerStartAnimation = function _registerStartAnimation(name) {\n\t            if (_animations[name]) {\n\t                _stopAnimation(name);\n\t            }\n\t            if (!_animations[name]) {\n\t                _numAnimations++;\n\t                _animations[name] = {};\n\t            }\n\t        };\n\n\t        var _stopAllAnimations = function _stopAllAnimations() {\n\t            for (var prop in _animations) {\n\n\t                if (_animations.hasOwnProperty(prop)) {\n\t                    _stopAnimation(prop);\n\t                }\n\t            }\n\t        };\n\n\t        var _animateProp = function _animateProp(name, b, endProp, d, easingFn, onUpdate, onComplete) {\n\t            var startAnimTime = _getCurrentTime();\n\t            var t = void 0;\n\t            _registerStartAnimation(name);\n\n\t            var animloop = function animloop() {\n\t                if (_animations[name]) {\n\n\t                    t = _getCurrentTime() - startAnimTime; // time diff\n\t                    //b - beginning (start prop)\n\t                    //d - anim duration\n\n\t                    if (t >= d) {\n\t                        _stopAnimation(name);\n\t                        onUpdate(endProp);\n\t                        if (onComplete) {\n\t                            onComplete();\n\t                        }\n\t                        return;\n\t                    }\n\t                    onUpdate((endProp - b) * easingFn(t / d) + b);\n\n\t                    _animations[name].raf = _requestAF(animloop);\n\t                }\n\t            };\n\t            animloop();\n\t        };\n\n\t        var publicMethods = {\n\n\t            // make a few local variables and functions public\n\t            shout: _shout,\n\t            listen: _listen,\n\t            viewportSize: _viewportSize,\n\t            options: _options,\n\n\t            isMainScrollAnimating: function isMainScrollAnimating() {\n\t                return _mainScrollAnimating;\n\t            },\n\t            getZoomLevel: function getZoomLevel() {\n\t                return _currZoomLevel;\n\t            },\n\t            getCurrentIndex: function getCurrentIndex() {\n\t                return _currentItemIndex;\n\t            },\n\t            isDragging: function isDragging() {\n\t                return _isDragging;\n\t            },\n\t            isZooming: function isZooming() {\n\t                return _isZooming;\n\t            },\n\t            setScrollOffset: function setScrollOffset(x, y) {\n\t                _offset.x = x;\n\t                _currentWindowScrollY = _offset.y = y;\n\t                _shout('updateScrollOffset', _offset);\n\t            },\n\t            applyZoomPan: function applyZoomPan(zoomLevel, panX, panY, allowRenderResolution) {\n\t                _panOffset.x = panX;\n\t                _panOffset.y = panY;\n\t                _currZoomLevel = zoomLevel;\n\t                _applyCurrentZoomPan(allowRenderResolution);\n\t            },\n\t            init: function init() {\n\n\t                if (_isOpen || _isDestroying) {\n\t                    return;\n\t                }\n\n\t                var i = void 0;\n\n\t                self.helper = helper; // basic functionality\n\t                self.template = template; // root DOM element of PhotoSwipe\n\t                self.bg = helper.getChildByClass(template, 'zvui-pinch__bg');\n\n\t                _initalClassName = template.className;\n\t                _isOpen = true;\n\n\t                _features = helper.detectFeatures();\n\t                _requestAF = _features.raf;\n\t                _cancelAF = _features.caf;\n\t                _transformKey = _features.transform;\n\t                _oldIE = _features.oldIE;\n\n\t                self.scrollWrap = helper.getChildByClass(template, 'zvui-pinch__scroll-wrap');\n\t                self.container = helper.getChildByClass(self.scrollWrap, 'zvui-pinch__container');\n\n\t                _containerStyle = self.container.style; // for fast access\n\n\t                // Objects that hold slides (there are only 3 in DOM)\n\t                self.itemHolders = _itemHolders = [{\n\t                    el: self.container.children[0],\n\t                    wrap: 0,\n\t                    index: -1\n\t                }, {\n\t                    el: self.container.children[1],\n\t                    wrap: 0,\n\t                    index: -1\n\t                }, {\n\t                    el: self.container.children[2],\n\t                    wrap: 0,\n\t                    index: -1\n\t                }];\n\n\t                // hide nearby item holders until initial zoom animation finishes (to avoid extra Paints)\n\t                _itemHolders[0].el.style.display = _itemHolders[2].el.style.display = 'none';\n\n\t                _setupTransforms();\n\n\t                // Setup global events\n\t                _globalEventHandlers = {\n\t                    resize: self.updateSize,\n\t                    scroll: _updatePageScrollOffset,\n\t                    keydown: _onKeyDown,\n\t                    click: _onGlobalClick\n\t                };\n\n\t                // disable show/hide effects on old browsers that don't support CSS animations or transforms,\n\t                // old IOS, Android and Opera mobile. Blackberry seems to work fine, even older models.\n\t                var oldPhone = _features.isOldIOSPhone || _features.isOldAndroid || _features.isMobileOpera;\n\t                if (!_features.animationName || !_features.transform || oldPhone) {\n\t                    _options.showAnimationDuration = _options.hideAnimationDuration = 0;\n\t                }\n\n\t                // init modules\n\t                for (i = 0; i < _modules.length; i++) {\n\t                    self['init' + _modules[i]]();\n\t                }\n\n\t                // init\n\t                if (UiClass) {\n\t                    var ui = self.ui = new UiClass(self, helper);\n\t                    ui.init();\n\t                }\n\n\t                _shout('firstUpdate');\n\t                _currentItemIndex = _currentItemIndex || _options.index || 0;\n\t                // validate index\n\t                if (isNaN(_currentItemIndex) || _currentItemIndex < 0 || _currentItemIndex >= _getNumItems()) {\n\t                    _currentItemIndex = 0;\n\t                }\n\t                self.currItem = _getItemAt(_currentItemIndex);\n\n\t                if (_features.isOldIOSPhone || _features.isOldAndroid) {\n\t                    _isFixedPosition = false;\n\t                }\n\n\t                template.setAttribute('aria-hidden', 'false');\n\t                if (_options.modal) {\n\t                    if (!_isFixedPosition) {\n\t                        template.style.position = 'absolute';\n\t                        template.style.top = helper.getScrollY() + 'px';\n\t                    } else {\n\t                        template.style.position = 'fixed';\n\t                    }\n\t                }\n\n\t                if (_currentWindowScrollY === undefined) {\n\t                    _shout('initialLayout');\n\t                    _currentWindowScrollY = _initalWindowScrollY = helper.getScrollY();\n\t                }\n\n\t                // add classes to root element of PhotoSwipe\n\t                var rootClasses = 'zvui-pinch--open ';\n\t                if (_options.mainClass) {\n\t                    rootClasses += _options.mainClass + ' ';\n\t                }\n\t                if (_options.showHideOpacity) {\n\t                    rootClasses += 'zvui-pinch--animate_opacity ';\n\t                }\n\t                rootClasses += _likelyTouchDevice ? 'zvui-pinch--touch' : 'zvui-pinch--notouch';\n\t                rootClasses += _features.animationName ? ' zvui-pinch--css_animation' : '';\n\t                rootClasses += _features.svg ? ' zvui-pinch--svg' : '';\n\t                helper.addClass(template, rootClasses);\n\n\t                self.updateSize();\n\n\t                // initial update\n\t                _containerShiftIndex = -1;\n\t                _indexDiff = null;\n\t                for (i = 0; i < NUM_HOLDERS; i++) {\n\t                    _setTranslateX((i + _containerShiftIndex) * _slideSize.x, _itemHolders[i].el.style);\n\t                }\n\n\t                if (!_oldIE) {\n\t                    helper.bind(self.scrollWrap, _downEvents, self); // no dragging for old IE\n\t                }\n\n\t                _listen('initialZoomInEnd', function () {\n\t                    self.setContent(_itemHolders[0], _currentItemIndex - 1);\n\t                    self.setContent(_itemHolders[2], _currentItemIndex + 1);\n\n\t                    _itemHolders[0].el.style.display = _itemHolders[2].el.style.display = 'block';\n\n\t                    if (_options.focus) {\n\t                        // focus causes layout,\n\t                        // which causes lag during the animation,\n\t                        // that's why we delay it untill the initial zoom transition ends\n\t                        template.focus();\n\t                    }\n\n\t                    _bindEvents();\n\t                });\n\n\t                // set content for center slide (first time)\n\t                self.setContent(_itemHolders[1], _currentItemIndex);\n\n\t                self.updateCurrItem();\n\n\t                _shout('afterInit');\n\n\t                if (!_isFixedPosition) {\n\n\t                    // On all versions of iOS lower than 8.0, we check size of viewport every second.\n\t                    //\n\t                    // This is done to detect when Safari top & bottom bars appear,\n\t                    // as this action doesn't trigger any events (like resize).\n\t                    //\n\t                    // On iOS8 they fixed this.\n\t                    //\n\t                    // 10 Nov 2014: iOS 7 usage ~40%. iOS 8 usage 56%.\n\n\t                    _updateSizeInterval = setInterval(function () {\n\t                        if (!_numAnimations && !_isDragging && !_isZooming && _currZoomLevel === self.currItem.initialZoomLevel) {\n\t                            self.updateSize();\n\t                        }\n\t                    }, 1000);\n\t                }\n\n\t                helper.addClass(template, 'zvui-pinch--visible');\n\t            },\n\n\n\t            // Close the gallery, then destroy it\n\t            close: function close() {\n\t                if (!_isOpen) {\n\t                    return;\n\t                }\n\n\t                _isOpen = false;\n\t                _isDestroying = true;\n\t                _shout('close');\n\t                _unbindEvents();\n\n\t                _showOrHide(self.currItem, null, true, self.destroy);\n\t            },\n\n\n\t            // destroys the gallery (unbinds events, cleans up intervals and timeouts to avoid memory leaks)\n\t            destroy: function destroy() {\n\t                _shout('destroy');\n\n\t                if (_showOrHideTimeout) {\n\t                    clearTimeout(_showOrHideTimeout);\n\t                }\n\n\t                template.setAttribute('aria-hidden', 'true');\n\t                template.className = _initalClassName;\n\n\t                if (_updateSizeInterval) {\n\t                    clearInterval(_updateSizeInterval);\n\t                }\n\n\t                helper.unbind(self.scrollWrap, _downEvents, self);\n\n\t                // we unbind scroll event at the end, as closing animation may depend on it\n\t                helper.unbind(window, 'scroll', self);\n\n\t                _stopDragUpdateLoop();\n\n\t                _stopAllAnimations();\n\n\t                _listeners = null;\n\t            },\n\n\n\t            /**\n\t             * Pan image to position\n\t             * @param {Number} x\n\t             * @param {Number} y\n\t             * @param {Boolean} force Will ignore bounds if set to true.\n\t             */\n\t            panTo: function panTo(x, y, force) {\n\t                if (!force) {\n\t                    if (x > _currPanBounds.min.x) {\n\t                        x = _currPanBounds.min.x;\n\t                    } else if (x < _currPanBounds.max.x) {\n\t                        x = _currPanBounds.max.x;\n\t                    }\n\n\t                    if (y > _currPanBounds.min.y) {\n\t                        y = _currPanBounds.min.y;\n\t                    } else if (y < _currPanBounds.max.y) {\n\t                        y = _currPanBounds.max.y;\n\t                    }\n\t                }\n\n\t                _panOffset.x = x;\n\t                _panOffset.y = y;\n\t                _applyCurrentZoomPan();\n\t            },\n\t            handleEvent: function handleEvent() {\n\t                var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : window.event;\n\n\t                if (_globalEventHandlers[e.type]) {\n\t                    _globalEventHandlers[e.type](e);\n\t                }\n\t            },\n\t            goTo: function goTo(index) {\n\n\t                index = _getLoopedId(index);\n\n\t                var diff = index - _currentItemIndex;\n\t                _indexDiff = diff;\n\n\t                _currentItemIndex = index;\n\t                self.currItem = _getItemAt(_currentItemIndex);\n\t                _currPositionIndex -= diff;\n\n\t                _moveMainScroll(_slideSize.x * _currPositionIndex);\n\n\t                _stopAllAnimations();\n\t                _mainScrollAnimating = false;\n\n\t                self.updateCurrItem();\n\t            },\n\t            next: function next() {\n\t                self.goTo(_currentItemIndex + 1);\n\t            },\n\t            prev: function prev() {\n\t                self.goTo(_currentItemIndex - 1);\n\t            },\n\n\n\t            // update current zoom/pan objects\n\t            updateCurrZoomItem: function updateCurrZoomItem(emulateSetContent) {\n\t                if (emulateSetContent) {\n\t                    _shout('beforeChange', 0);\n\t                }\n\n\t                // itemHolder[1] is middle (current) item\n\t                if (_itemHolders[1].el.children.length) {\n\t                    var zoomElement = _itemHolders[1].el.children[0];\n\t                    if (helper.hasClass(zoomElement, 'zvui-pinch__zoom-wrap')) {\n\t                        _currZoomElementStyle = zoomElement.style;\n\t                    } else {\n\t                        _currZoomElementStyle = null;\n\t                    }\n\t                } else {\n\t                    _currZoomElementStyle = null;\n\t                }\n\n\t                _currPanBounds = self.currItem.bounds;\n\t                _startZoomLevel = _currZoomLevel = self.currItem.initialZoomLevel;\n\n\t                _panOffset.x = _currPanBounds.center.x;\n\t                _panOffset.y = _currPanBounds.center.y;\n\n\t                if (emulateSetContent) {\n\t                    _shout('afterChange');\n\t                }\n\t            },\n\t            invalidateCurrItems: function invalidateCurrItems() {\n\t                _itemsNeedUpdate = true;\n\t                for (var i = 0; i < NUM_HOLDERS; i++) {\n\t                    if (_itemHolders[i].item) {\n\t                        _itemHolders[i].item.needsUpdate = true;\n\t                    }\n\t                }\n\t            },\n\t            updateCurrItem: function updateCurrItem(beforeAnimation) {\n\t                if (_indexDiff === 0) {\n\t                    return;\n\t                }\n\n\t                var diffAbs = Math.abs(_indexDiff);\n\t                var tempHolder = void 0;\n\n\t                if (beforeAnimation && diffAbs < 2) {\n\t                    return;\n\t                }\n\n\t                self.currItem = _getItemAt(_currentItemIndex);\n\t                _renderMaxResolution = false;\n\n\t                _shout('beforeChange', _indexDiff);\n\n\t                if (diffAbs >= NUM_HOLDERS) {\n\t                    _containerShiftIndex += _indexDiff + (_indexDiff > 0 ? -NUM_HOLDERS : NUM_HOLDERS);\n\t                    diffAbs = NUM_HOLDERS;\n\t                }\n\t                for (var i = 0; i < diffAbs; i++) {\n\t                    if (_indexDiff > 0) {\n\t                        tempHolder = _itemHolders.shift();\n\t                        _itemHolders[NUM_HOLDERS - 1] = tempHolder; // move first to last\n\n\t                        _containerShiftIndex++;\n\t                        _setTranslateX((_containerShiftIndex + 2) * _slideSize.x, tempHolder.el.style);\n\t                        self.setContent(tempHolder, _currentItemIndex - diffAbs + i + 1 + 1);\n\t                    } else {\n\t                        tempHolder = _itemHolders.pop();\n\t                        _itemHolders.unshift(tempHolder); // move last to first\n\n\t                        _containerShiftIndex--;\n\t                        _setTranslateX(_containerShiftIndex * _slideSize.x, tempHolder.el.style);\n\t                        self.setContent(tempHolder, _currentItemIndex + diffAbs - i - 1 - 1);\n\t                    }\n\t                }\n\n\t                // reset zoom/pan on previous item\n\t                if (_currZoomElementStyle && Math.abs(_indexDiff) === 1) {\n\n\t                    var prevItem = _getItemAt(_prevItemIndex);\n\t                    if (prevItem.initialZoomLevel !== _currZoomLevel) {\n\t                        _calculateItemSize(prevItem, _viewportSize);\n\t                        _setImageSize(prevItem);\n\t                        _applyZoomPanToItem(prevItem);\n\t                    }\n\t                }\n\n\t                // reset diff after update\n\t                _indexDiff = 0;\n\n\t                self.updateCurrZoomItem();\n\n\t                _prevItemIndex = _currentItemIndex;\n\n\t                _shout('afterChange');\n\t            },\n\t            updateSize: function updateSize(force) {\n\n\t                if (!_isFixedPosition && _options.modal) {\n\t                    var windowScrollY = helper.getScrollY();\n\t                    if (_currentWindowScrollY !== windowScrollY) {\n\t                        template.style.top = windowScrollY + 'px';\n\t                        _currentWindowScrollY = windowScrollY;\n\t                    }\n\t                    if (!force && _windowVisibleSize.x === window.innerWidth && _windowVisibleSize.y === window.innerHeight) {\n\t                        return;\n\t                    }\n\t                    _windowVisibleSize.x = window.innerWidth;\n\t                    _windowVisibleSize.y = window.innerHeight;\n\n\t                    //template.style.width = _windowVisibleSize.x + 'px';\n\t                    template.style.height = _windowVisibleSize.y + 'px';\n\t                }\n\n\t                _viewportSize.x = self.scrollWrap.clientWidth;\n\t                _viewportSize.y = self.scrollWrap.clientHeight;\n\n\t                _updatePageScrollOffset();\n\n\t                _slideSize.x = _viewportSize.x + Math.round(_viewportSize.x * _options.spacing);\n\t                _slideSize.y = _viewportSize.y;\n\n\t                _moveMainScroll(_slideSize.x * _currPositionIndex);\n\n\t                _shout('beforeResize'); // even may be used for example to switch image sources\n\n\n\t                // don't re-calculate size on inital size update\n\t                if (_containerShiftIndex !== undefined) {\n\t                    var holder = void 0;\n\t                    var item = void 0;\n\t                    var hIndex = void 0;\n\n\t                    for (var i = 0; i < NUM_HOLDERS; i++) {\n\t                        holder = _itemHolders[i];\n\t                        _setTranslateX((i + _containerShiftIndex) * _slideSize.x, holder.el.style);\n\n\t                        hIndex = _currentItemIndex + i - 1;\n\n\t                        if (_options.loop && _getNumItems() > 2) {\n\t                            hIndex = _getLoopedId(hIndex);\n\t                        }\n\n\t                        // update zoom level on items and refresh source (if needsUpdate)\n\t                        item = _getItemAt(hIndex);\n\n\t                        // re-render gallery item if `needsUpdate`,\n\t                        // or doesn't have `bounds` (entirely new slide object)\n\t                        if (item && (_itemsNeedUpdate || item.needsUpdate || !item.bounds)) {\n\n\t                            self.cleanSlide(item);\n\n\t                            self.setContent(holder, hIndex);\n\n\t                            // if \"center\" slide\n\t                            if (i === 1) {\n\t                                self.currItem = item;\n\t                                self.updateCurrZoomItem(true);\n\t                            }\n\n\t                            item.needsUpdate = false;\n\t                        } else if (holder.index === -1 && hIndex >= 0) {\n\t                            // add content first time\n\t                            self.setContent(holder, hIndex);\n\t                        }\n\t                        if (item && item.container) {\n\t                            _calculateItemSize(item, _viewportSize);\n\t                            _setImageSize(item);\n\t                            _applyZoomPanToItem(item);\n\t                        }\n\t                    }\n\t                    _itemsNeedUpdate = false;\n\t                }\n\n\t                _startZoomLevel = _currZoomLevel = self.currItem.initialZoomLevel;\n\t                _currPanBounds = self.currItem.bounds;\n\n\t                if (_currPanBounds) {\n\t                    _panOffset.x = _currPanBounds.center.x;\n\t                    _panOffset.y = _currPanBounds.center.y;\n\t                    _applyCurrentZoomPan(true);\n\t                }\n\n\t                _shout('resize');\n\t            },\n\n\n\t            // Zoom current item to\n\t            zoomTo: function zoomTo(destZoomLevel, centerPoint, speed, easingFn, updateFn) {\n\t                /*\n\t                \tif(destZoomLevel === 'fit') {\n\t                \t\tdestZoomLevel = self.currItem.fitRatio;\n\t                \t} else if(destZoomLevel === 'fill') {\n\t                \t\tdestZoomLevel = self.currItem.fillRatio;\n\t                \t}\n\t                */\n\n\t                if (centerPoint) {\n\t                    _startZoomLevel = _currZoomLevel;\n\t                    _midZoomPoint.x = Math.abs(centerPoint.x) - _panOffset.x;\n\t                    _midZoomPoint.y = Math.abs(centerPoint.y) - _panOffset.y;\n\t                    _equalizePoints(_startPanOffset, _panOffset);\n\t                }\n\n\t                var destPanBounds = _calculatePanBounds(destZoomLevel, false);\n\t                var destPanOffset = {};\n\n\t                _modifyDestPanOffset('x', destPanBounds, destPanOffset, destZoomLevel);\n\t                _modifyDestPanOffset('y', destPanBounds, destPanOffset, destZoomLevel);\n\n\t                var initialZoomLevel = _currZoomLevel;\n\t                var initialPanOffset = {\n\t                    x: _panOffset.x,\n\t                    y: _panOffset.y\n\t                };\n\n\t                _roundPoint(destPanOffset);\n\n\t                var onUpdate = function onUpdate(now) {\n\t                    if (now === 1) {\n\t                        _currZoomLevel = destZoomLevel;\n\t                        _panOffset.x = destPanOffset.x;\n\t                        _panOffset.y = destPanOffset.y;\n\t                    } else {\n\t                        _currZoomLevel = (destZoomLevel - initialZoomLevel) * now + initialZoomLevel;\n\t                        _panOffset.x = (destPanOffset.x - initialPanOffset.x) * now + initialPanOffset.x;\n\t                        _panOffset.y = (destPanOffset.y - initialPanOffset.y) * now + initialPanOffset.y;\n\t                    }\n\n\t                    if (updateFn) {\n\t                        updateFn(now);\n\t                    }\n\n\t                    _applyCurrentZoomPan(now === 1);\n\t                };\n\n\t                if (speed) {\n\t                    _animateProp('customZoomTo', 0, 1, speed, easingFn || helper.easing.sine.inOut, onUpdate);\n\t                } else {\n\t                    onUpdate(1);\n\t                }\n\t            }\n\t        };\n\n\t        /**\n\t        * Mouse/touch/pointer event handlers.\n\t        *\n\t        * separated from @core.js for readability\n\t        */\n\n\t        var MIN_SWIPE_DISTANCE = 30; // amount of pixels to drag to determine direction of swipe\n\n\t        var DIRECTION_CHECK_OFFSET = 10;\n\t        var _gestureStartTime = void 0;\n\t        var _gestureCheckSpeedTime = void 0;\n\n\t        var // pool of objects that are used during dragging of zooming\n\t        // first point\n\t        p = {};\n\n\t        var // second point (for zoom gesture)\n\t        p2 = {};\n\n\t        var delta = {};\n\t        var _currPoint = {};\n\t        var _startPoint = {};\n\t        var _currPointers = [];\n\t        var _startMainScrollPos = {};\n\t        var _releaseAnimData = void 0;\n\n\t        var // array of points during dragging, used to determine type of gesture\n\t        _posPoints = [];\n\n\t        var _tempPoint = {};\n\t        var _isZoomingIn = void 0;\n\t        var _verticalDragInitiated = void 0;\n\t        var _oldAndroidTouchEndTimeout = void 0;\n\t        var _currZoomedItemIndex = 0;\n\t        var _centerPoint = _getEmptyPoint();\n\t        var _lastReleaseTime = 0;\n\n\t        var // at least one pointer is down\n\t        _isDragging = void 0;\n\n\t        var // at least two _pointers are down\n\t        _isMultitouch = void 0;\n\n\t        var // zoom level changed during zoom gesture\n\t        _zoomStarted = void 0;\n\n\t        var _moved = void 0;\n\t        var _dragAnimFrame = void 0;\n\t        var _mainScrollShifted = void 0;\n\n\t        var // array of current touch points\n\t        _currentPoints = void 0;\n\n\t        var _isZooming = void 0;\n\t        var _currPointsDistance = void 0;\n\t        var _startPointsDistance = void 0;\n\t        var _currPanBounds = void 0;\n\t        var _mainScrollPos = _getEmptyPoint();\n\t        var _currZoomElementStyle = void 0;\n\n\t        var // true, if animation after swipe gesture is running\n\t        _mainScrollAnimating = void 0;\n\n\t        var _midZoomPoint = _getEmptyPoint();\n\t        var _currCenterPoint = _getEmptyPoint();\n\t        var _direction = void 0;\n\t        var _isFirstMove = void 0;\n\t        var _opacityChanged = void 0;\n\t        var _bgOpacity = void 0;\n\t        var _wasOverInitialZoom = void 0;\n\t        var _isEqualPoints = function _isEqualPoints(p1, p2) {\n\t            return p1.x === p2.x && p1.y === p2.y;\n\t        };\n\t        var _isNearbyPoints = function _isNearbyPoints(touch0, touch1) {\n\t            return Math.abs(touch0.x - touch1.x) < DOUBLE_TAP_RADIUS && Math.abs(touch0.y - touch1.y) < DOUBLE_TAP_RADIUS;\n\t        };\n\n\t        var _calculatePointsDistance = function _calculatePointsDistance(p1, p2) {\n\t            _tempPoint.x = Math.abs(p1.x - p2.x);\n\t            _tempPoint.y = Math.abs(p1.y - p2.y);\n\t            return Math.sqrt(_tempPoint.x * _tempPoint.x + _tempPoint.y * _tempPoint.y);\n\t        };\n\n\t        var _stopDragUpdateLoop = function _stopDragUpdateLoop() {\n\t            if (_dragAnimFrame) {\n\t                _cancelAF(_dragAnimFrame);\n\t                _dragAnimFrame = null;\n\t            }\n\t        };\n\n\t        var _dragUpdateLoop = function _dragUpdateLoop() {\n\t            if (_isDragging) {\n\t                _dragAnimFrame = _requestAF(_dragUpdateLoop);\n\t                _renderMovement();\n\t            }\n\t        };\n\n\t        var _canPan = function _canPan() {\n\t            return !(_options.scaleMode === 'fit' && _currZoomLevel === self.currItem.initialZoomLevel);\n\t        };\n\n\t        // find the closest parent DOM element\n\t        var _closestElement = function _closestElement(el, fn) {\n\t            if (!el || el === document) {\n\t                return false;\n\t            }\n\n\t            // don't search elements above zvui-pinch__scroll-wrap\n\t            if (el.getAttribute('class') && el.getAttribute('class').includes('zvui-pinch__scroll-wrap')) {\n\t                return false;\n\t            }\n\n\t            if (fn(el)) {\n\t                return el;\n\t            }\n\n\t            return _closestElement(el.parentNode, fn);\n\t        };\n\n\t        var _preventObj = {};\n\n\t        var _preventDefaultEventBehaviour = function _preventDefaultEventBehaviour(e, isDown) {\n\t            _preventObj.prevent = !_closestElement(e.target, _options.isClickableElement);\n\n\t            _shout('preventDragEvent', e, isDown, _preventObj);\n\t            return _preventObj.prevent;\n\t        };\n\n\t        var _convertTouchToPoint = function _convertTouchToPoint(touch, p) {\n\t            p.x = touch.pageX;\n\t            p.y = touch.pageY;\n\t            p.id = touch.identifier;\n\t            return p;\n\t        };\n\n\t        var _findCenterOfPoints = function _findCenterOfPoints(p1, p2, pCenter) {\n\t            pCenter.x = (p1.x + p2.x) * 0.5;\n\t            pCenter.y = (p1.y + p2.y) * 0.5;\n\t        };\n\n\t        var _pushPosPoint = function _pushPosPoint(time, x, y) {\n\t            if (time - _gestureCheckSpeedTime > 50) {\n\t                var o = _posPoints.length > 2 ? _posPoints.shift() : {};\n\t                o.x = x;\n\t                o.y = y;\n\t                _posPoints.push(o);\n\t                _gestureCheckSpeedTime = time;\n\t            }\n\t        };\n\n\t        var _calculateVerticalDragOpacityRatio = function _calculateVerticalDragOpacityRatio() {\n\t            var yOffset = _panOffset.y - self.currItem.initialPosition.y; // difference between initial and current position\n\t            return 1 - Math.abs(yOffset / (_viewportSize.y / 2));\n\t        };\n\n\t        var // points pool, reused during touch events\n\t        _ePoint1 = {};\n\n\t        var _ePoint2 = {};\n\t        var _tempPointsArr = [];\n\t        var _tempCounter = void 0;\n\n\t        var _getTouchPoints = function _getTouchPoints(e) {\n\t            // clean up previous points, without recreating array\n\t            while (_tempPointsArr.length > 0) {\n\t                _tempPointsArr.pop();\n\t            }\n\n\t            if (!_pointerEventEnabled) {\n\t                if (e.type.includes('touch')) {\n\n\t                    if (e.touches && e.touches.length > 0) {\n\t                        _tempPointsArr[0] = _convertTouchToPoint(e.touches[0], _ePoint1);\n\t                        if (e.touches.length > 1) {\n\t                            _tempPointsArr[1] = _convertTouchToPoint(e.touches[1], _ePoint2);\n\t                        }\n\t                    }\n\t                } else {\n\t                    _ePoint1.x = e.pageX;\n\t                    _ePoint1.y = e.pageY;\n\t                    _ePoint1.id = '';\n\t                    _tempPointsArr[0] = _ePoint1; //_ePoint1;\n\t                }\n\t            } else {\n\t                _tempCounter = 0;\n\t                // we can use forEach, as pointer events are supported only in modern browsers\n\t                _currPointers.forEach(function (p) {\n\t                    if (_tempCounter === 0) {\n\t                        _tempPointsArr[0] = p;\n\t                    } else if (_tempCounter === 1) {\n\t                        _tempPointsArr[1] = p;\n\t                    }\n\t                    _tempCounter++;\n\t                });\n\t            }\n\t            return _tempPointsArr;\n\t        };\n\n\t        var _panOrMoveMainScroll = function _panOrMoveMainScroll(axis, delta) {\n\t            var panFriction = void 0;\n\t            var overDiff = 0;\n\t            var newOffset = _panOffset[axis] + delta[axis];\n\t            var startOverDiff = void 0;\n\t            var dir = delta[axis] > 0;\n\t            var newMainScrollPosition = _mainScrollPos.x + delta.x;\n\t            var mainScrollDiff = _mainScrollPos.x - _startMainScrollPos.x;\n\t            var newPanPos = void 0;\n\t            var newMainScrollPos = void 0;\n\n\t            // calculate fdistance over the bounds and friction\n\t            if (newOffset > _currPanBounds.min[axis] || newOffset < _currPanBounds.max[axis]) {\n\t                panFriction = _options.panEndFriction;\n\t                // Linear increasing of friction, so at 1/4 of viewport it's at max value.\n\t                // Looks not as nice as was expected. Left for history.\n\t                // panFriction = (1 - (_panOffset[axis] + delta[axis] + panBounds.min[axis]) / (_viewportSize[axis] / 4) );\n\t            } else {\n\t                panFriction = 1;\n\t            }\n\n\t            newOffset = _panOffset[axis] + delta[axis] * panFriction;\n\n\t            // move main scroll or start panning\n\t            if (_options.allowPanToNext || _currZoomLevel === self.currItem.initialZoomLevel) {\n\n\t                if (!_currZoomElementStyle) {\n\n\t                    newMainScrollPos = newMainScrollPosition;\n\t                } else if (_direction === 'h' && axis === 'x' && !_zoomStarted) {\n\n\t                    if (dir) {\n\t                        if (newOffset > _currPanBounds.min[axis]) {\n\t                            panFriction = _options.panEndFriction;\n\t                            overDiff = _currPanBounds.min[axis] - newOffset;\n\t                            startOverDiff = _currPanBounds.min[axis] - _startPanOffset[axis];\n\t                        }\n\n\t                        // drag right\n\t                        if ((startOverDiff <= 0 || mainScrollDiff < 0) && _getNumItems() > 1) {\n\t                            newMainScrollPos = newMainScrollPosition;\n\t                            if (mainScrollDiff < 0 && newMainScrollPosition > _startMainScrollPos.x) {\n\t                                newMainScrollPos = _startMainScrollPos.x;\n\t                            }\n\t                        } else {\n\t                            if (_currPanBounds.min.x !== _currPanBounds.max.x) {\n\t                                newPanPos = newOffset;\n\t                            }\n\t                        }\n\t                    } else {\n\n\t                        if (newOffset < _currPanBounds.max[axis]) {\n\t                            panFriction = _options.panEndFriction;\n\t                            overDiff = newOffset - _currPanBounds.max[axis];\n\t                            startOverDiff = _startPanOffset[axis] - _currPanBounds.max[axis];\n\t                        }\n\n\t                        if ((startOverDiff <= 0 || mainScrollDiff > 0) && _getNumItems() > 1) {\n\t                            newMainScrollPos = newMainScrollPosition;\n\n\t                            if (mainScrollDiff > 0 && newMainScrollPosition < _startMainScrollPos.x) {\n\t                                newMainScrollPos = _startMainScrollPos.x;\n\t                            }\n\t                        } else {\n\t                            if (_currPanBounds.min.x !== _currPanBounds.max.x) {\n\t                                newPanPos = newOffset;\n\t                            }\n\t                        }\n\t                    }\n\n\t                    //\n\t                }\n\n\t                if (axis === 'x') {\n\n\t                    if (newMainScrollPos !== undefined) {\n\t                        _moveMainScroll(newMainScrollPos, true);\n\t                        if (newMainScrollPos === _startMainScrollPos.x) {\n\t                            _mainScrollShifted = false;\n\t                        } else {\n\t                            _mainScrollShifted = true;\n\t                        }\n\t                    }\n\n\t                    if (_currPanBounds.min.x !== _currPanBounds.max.x) {\n\t                        if (newPanPos !== undefined) {\n\t                            _panOffset.x = newPanPos;\n\t                        } else if (!_mainScrollShifted) {\n\t                            _panOffset.x += delta.x * panFriction;\n\t                        }\n\t                    }\n\n\t                    return newMainScrollPos !== undefined;\n\t                }\n\t            }\n\n\t            if (!_mainScrollAnimating) {\n\n\t                if (!_mainScrollShifted) {\n\t                    if (_currZoomLevel > self.currItem.fitRatio) {\n\t                        _panOffset[axis] += delta[axis] * panFriction;\n\t                    }\n\t                }\n\t            }\n\t        };\n\n\t        var _onDragStart = function _onDragStart(e) {\n\t            // Pointerdown/touchstart/mousedown handler\n\t            // Allow dragging only via left mouse button.\n\t            // As this handler is not added in IE8 - we ignore e.which\n\t            //\n\t            // http://www.quirksmode.org/js/events_properties.html\n\t            // https://developer.mozilla.org/en-US/docs/Web/API/event.button\n\t            if (e.type === 'mousedown' && e.button > 0) {\n\t                return;\n\t            }\n\n\t            if (_initialZoomRunning) {\n\t                e.preventDefault();\n\t                return;\n\t            }\n\n\t            if (_oldAndroidTouchEndTimeout && e.type === 'mousedown') {\n\t                return;\n\t            }\n\n\t            if (_preventDefaultEventBehaviour(e, true)) {\n\t                e.preventDefault();\n\t            }\n\n\t            _shout('pointerDown');\n\n\t            if (_pointerEventEnabled) {\n\t                var pointerIndex = helper.arraySearch(_currPointers, e.pointerId, 'id');\n\t                if (pointerIndex < 0) {\n\t                    pointerIndex = _currPointers.length;\n\t                }\n\t                _currPointers[pointerIndex] = {\n\t                    x: e.pageX,\n\t                    y: e.pageY,\n\t                    id: e.pointerId\n\t                };\n\t            }\n\n\t            var startPointsList = _getTouchPoints(e);\n\t            var numPoints = startPointsList.length;\n\n\t            _currentPoints = null;\n\n\t            _stopAllAnimations();\n\n\t            // init drag\n\t            if (!_isDragging || numPoints === 1) {\n\n\t                _isDragging = _isFirstMove = true;\n\t                helper.bind(window, _upMoveEvents, self);\n\n\t                _isZoomingIn = _wasOverInitialZoom = _opacityChanged = _verticalDragInitiated = _mainScrollShifted = _moved = _isMultitouch = _zoomStarted = false;\n\n\t                _direction = null;\n\n\t                _shout('firstTouchStart', startPointsList);\n\n\t                _equalizePoints(_startPanOffset, _panOffset);\n\n\t                _currPanDist.x = _currPanDist.y = 0;\n\t                _equalizePoints(_currPoint, startPointsList[0]);\n\t                _equalizePoints(_startPoint, _currPoint);\n\n\t                //_equalizePoints(_startMainScrollPos, _mainScrollPos);\n\t                _startMainScrollPos.x = _slideSize.x * _currPositionIndex;\n\n\t                _posPoints = [{\n\t                    x: _currPoint.x,\n\t                    y: _currPoint.y\n\t                }];\n\n\t                _gestureCheckSpeedTime = _gestureStartTime = _getCurrentTime();\n\n\t                //_mainScrollAnimationEnd(true);\n\t                _calculatePanBounds(_currZoomLevel, true);\n\n\t                // Start rendering\n\t                _stopDragUpdateLoop();\n\t                _dragUpdateLoop();\n\t            }\n\n\t            // init zoom\n\t            if (!_isZooming && numPoints > 1 && !_mainScrollAnimating && !_mainScrollShifted) {\n\t                _startZoomLevel = _currZoomLevel;\n\t                _zoomStarted = false; // true if zoom changed at least once\n\n\t                _isZooming = _isMultitouch = true;\n\t                _currPanDist.y = _currPanDist.x = 0;\n\n\t                _equalizePoints(_startPanOffset, _panOffset);\n\n\t                _equalizePoints(p, startPointsList[0]);\n\t                _equalizePoints(p2, startPointsList[1]);\n\n\t                _findCenterOfPoints(p, p2, _currCenterPoint);\n\n\t                _midZoomPoint.x = Math.abs(_currCenterPoint.x) - _panOffset.x;\n\t                _midZoomPoint.y = Math.abs(_currCenterPoint.y) - _panOffset.y;\n\t                _currPointsDistance = _startPointsDistance = _calculatePointsDistance(p, p2);\n\t            }\n\t        };\n\n\t        // Pointermove/touchmove/mousemove handler\n\t        var _onDragMove = function _onDragMove(e) {\n\n\t            if (_pointerEventEnabled) {\n\t                var pointerIndex = helper.arraySearch(_currPointers, e.pointerId, 'id');\n\t                if (pointerIndex > -1) {\n\t                    var _p = _currPointers[pointerIndex];\n\t                    _p.x = e.pageX;\n\t                    _p.y = e.pageY;\n\t                }\n\t            }\n\n\t            if (_isDragging) {\n\t                var touchesList = _getTouchPoints(e);\n\t                if (!_direction && !_moved && !_isZooming) {\n\n\t                    if (_mainScrollPos.x !== _slideSize.x * _currPositionIndex) {\n\t                        // if main scroll position is shifted  direction is always horizontal\n\t                        _direction = 'h';\n\t                    } else {\n\t                        var diff = Math.abs(touchesList[0].x - _currPoint.x) - Math.abs(touchesList[0].y - _currPoint.y);\n\t                        // check the direction of movement\n\t                        if (Math.abs(diff) >= DIRECTION_CHECK_OFFSET) {\n\t                            _direction = diff > 0 ? 'h' : 'v';\n\t                            _currentPoints = touchesList;\n\t                        }\n\t                    }\n\t                } else {\n\t                    _currentPoints = touchesList;\n\t                }\n\t            }\n\t        };\n\n\t        var _renderMovement = function _renderMovement() {\n\n\t            if (!_currentPoints) {\n\t                return;\n\t            }\n\n\t            var numPoints = _currentPoints.length;\n\n\t            if (numPoints === 0) {\n\t                return;\n\t            }\n\n\t            _equalizePoints(p, _currentPoints[0]);\n\n\t            delta.x = p.x - _currPoint.x;\n\t            delta.y = p.y - _currPoint.y;\n\n\t            if (_isZooming && numPoints > 1) {\n\t                // Handle behaviour for more than 1 point\n\n\t                _currPoint.x = p.x;\n\t                _currPoint.y = p.y;\n\n\t                // check if one of two points changed\n\t                if (!delta.x && !delta.y && _isEqualPoints(_currentPoints[1], p2)) {\n\t                    return;\n\t                }\n\n\t                _equalizePoints(p2, _currentPoints[1]);\n\n\t                if (!_zoomStarted) {\n\t                    _zoomStarted = true;\n\t                    _shout('zoomGestureStarted');\n\t                }\n\n\t                // Distance between two points\n\t                var pointsDistance = _calculatePointsDistance(p, p2);\n\n\t                var zoomLevel = _calculateZoomLevel(pointsDistance);\n\n\t                // slightly over the of initial zoom level\n\t                if (zoomLevel > self.currItem.initialZoomLevel + self.currItem.initialZoomLevel / 15) {\n\t                    _wasOverInitialZoom = true;\n\t                }\n\n\t                // Apply the friction if zoom level is out of the bounds\n\t                var zoomFriction = 1;\n\n\t                var minZoomLevel = _getMinZoomLevel();\n\t                var maxZoomLevel = _getMaxZoomLevel();\n\n\t                if (zoomLevel < minZoomLevel) {\n\n\t                    if (_options.pinchToClose && !_wasOverInitialZoom && _startZoomLevel <= self.currItem.initialZoomLevel) {\n\t                        // fade out background if zooming out\n\t                        var minusDiff = minZoomLevel - zoomLevel;\n\t                        var percent = 1 - minusDiff / (minZoomLevel / 1.2);\n\n\t                        _applyBgOpacity(percent);\n\t                        _shout('onPinchClose', percent);\n\t                        _opacityChanged = true;\n\t                    } else {\n\t                        zoomFriction = (minZoomLevel - zoomLevel) / minZoomLevel;\n\t                        if (zoomFriction > 1) {\n\t                            zoomFriction = 1;\n\t                        }\n\t                        zoomLevel = minZoomLevel - zoomFriction * (minZoomLevel / 3);\n\t                    }\n\t                } else if (zoomLevel > maxZoomLevel) {\n\t                    // 1.5 - extra zoom level above the max. E.g. if max is x6, real max 6 + 1.5 = 7.5\n\t                    zoomFriction = (zoomLevel - maxZoomLevel) / (minZoomLevel * 6);\n\t                    if (zoomFriction > 1) {\n\t                        zoomFriction = 1;\n\t                    }\n\t                    zoomLevel = maxZoomLevel + zoomFriction * minZoomLevel;\n\t                }\n\n\t                if (zoomFriction < 0) {\n\t                    zoomFriction = 0;\n\t                }\n\n\t                // distance between touch points after friction is applied\n\t                _currPointsDistance = pointsDistance;\n\n\t                // _centerPoint - The point in the middle of two pointers\n\t                _findCenterOfPoints(p, p2, _centerPoint);\n\n\t                // paning with two pointers pressed\n\t                _currPanDist.x += _centerPoint.x - _currCenterPoint.x;\n\t                _currPanDist.y += _centerPoint.y - _currCenterPoint.y;\n\t                _equalizePoints(_currCenterPoint, _centerPoint);\n\n\t                _panOffset.x = _calculatePanOffset('x', zoomLevel);\n\t                _panOffset.y = _calculatePanOffset('y', zoomLevel);\n\n\t                _isZoomingIn = zoomLevel > _currZoomLevel;\n\t                _currZoomLevel = zoomLevel;\n\t                _applyCurrentZoomPan();\n\t            } else {\n\n\t                // handle behaviour for one point (dragging or panning)\n\n\t                if (!_direction) {\n\t                    return;\n\t                }\n\n\t                if (_isFirstMove) {\n\t                    _isFirstMove = false;\n\n\t                    // subtract drag distance that was used during the detection direction\n\n\t                    if (Math.abs(delta.x) >= DIRECTION_CHECK_OFFSET) {\n\t                        delta.x -= _currentPoints[0].x - _startPoint.x;\n\t                    }\n\n\t                    if (Math.abs(delta.y) >= DIRECTION_CHECK_OFFSET) {\n\t                        delta.y -= _currentPoints[0].y - _startPoint.y;\n\t                    }\n\t                }\n\n\t                _currPoint.x = p.x;\n\t                _currPoint.y = p.y;\n\n\t                // do nothing if pointers position hasn't changed\n\t                if (delta.x === 0 && delta.y === 0) {\n\t                    return;\n\t                }\n\n\t                if (_direction === 'v' && _options.closeOnVerticalDrag) {\n\t                    if (!_canPan()) {\n\t                        _currPanDist.y += delta.y;\n\t                        _panOffset.y += delta.y;\n\n\t                        var opacityRatio = _calculateVerticalDragOpacityRatio();\n\n\t                        _verticalDragInitiated = true;\n\t                        _shout('onVerticalDrag', opacityRatio);\n\n\t                        _applyBgOpacity(opacityRatio);\n\t                        _applyCurrentZoomPan();\n\t                        return;\n\t                    }\n\t                }\n\n\t                _pushPosPoint(_getCurrentTime(), p.x, p.y);\n\n\t                _moved = true;\n\t                _currPanBounds = self.currItem.bounds;\n\n\t                var mainScrollChanged = _panOrMoveMainScroll('x', delta);\n\t                if (!mainScrollChanged) {\n\t                    _panOrMoveMainScroll('y', delta);\n\n\t                    _roundPoint(_panOffset);\n\t                    _applyCurrentZoomPan();\n\t                }\n\t            }\n\t        };\n\n\t        // Pointerup/pointercancel/touchend/touchcancel/mouseup event handler\n\t        var _onDragRelease = function _onDragRelease(e) {\n\t            if (_features.isOldAndroid) {\n\n\t                if (_oldAndroidTouchEndTimeout && e.type === 'mouseup') {\n\t                    return;\n\t                }\n\n\t                // on Android (v4.1, 4.2, 4.3 & possibly older)\n\t                // ghost mousedown/up event isn't preventable via e.preventDefault,\n\t                // which causes fake mousedown event\n\t                // so we block mousedown/up for 600ms\n\t                if (e.type.includes('touch')) {\n\t                    clearTimeout(_oldAndroidTouchEndTimeout);\n\t                    _oldAndroidTouchEndTimeout = setTimeout(function () {\n\t                        _oldAndroidTouchEndTimeout = 0;\n\t                    }, 600);\n\t                }\n\t            }\n\n\t            _shout('pointerUp');\n\n\t            if (_preventDefaultEventBehaviour(e, false)) {\n\t                e.preventDefault();\n\t            }\n\n\t            var releasePoint = void 0;\n\n\t            if (_pointerEventEnabled) {\n\t                var pointerIndex = helper.arraySearch(_currPointers, e.pointerId, 'id');\n\n\t                if (pointerIndex > -1) {\n\t                    releasePoint = _currPointers.splice(pointerIndex, 1)[0];\n\n\t                    if (navigator.pointerEnabled) {\n\t                        releasePoint.type = e.pointerType || 'mouse';\n\t                    } else {\n\t                        var MSPOINTER_TYPES = {\n\t                            4: 'mouse', // event.MSPOINTER_TYPE_MOUSE\n\t                            2: 'touch', // event.MSPOINTER_TYPE_TOUCH\n\t                            3: 'pen' };\n\t                        releasePoint.type = MSPOINTER_TYPES[e.pointerType];\n\n\t                        if (!releasePoint.type) {\n\t                            releasePoint.type = e.pointerType || 'mouse';\n\t                        }\n\t                    }\n\t                }\n\t            }\n\n\t            var touchList = _getTouchPoints(e);\n\t            var gestureType = void 0;\n\t            var numPoints = touchList.length;\n\n\t            if (e.type === 'mouseup') {\n\t                numPoints = 0;\n\t            }\n\n\t            // Do nothing if there were 3 touch points or more\n\t            if (numPoints === 2) {\n\t                _currentPoints = null;\n\t                return true;\n\t            }\n\n\t            // if second pointer released\n\t            if (numPoints === 1) {\n\t                _equalizePoints(_startPoint, touchList[0]);\n\t            }\n\n\t            // pointer hasn't moved, send \"tap release\" point\n\t            if (numPoints === 0 && !_direction && !_mainScrollAnimating) {\n\t                if (!releasePoint) {\n\t                    if (e.type === 'mouseup') {\n\t                        releasePoint = {\n\t                            x: e.pageX,\n\t                            y: e.pageY,\n\t                            type: 'mouse'\n\t                        };\n\t                    } else if (e.changedTouches && e.changedTouches[0]) {\n\t                        releasePoint = {\n\t                            x: e.changedTouches[0].pageX,\n\t                            y: e.changedTouches[0].pageY,\n\t                            type: 'touch'\n\t                        };\n\t                    }\n\t                }\n\n\t                _shout('touchRelease', e, releasePoint);\n\t            }\n\n\t            // Difference in time between releasing of two last touch points (zoom gesture)\n\t            var releaseTimeDiff = -1;\n\n\t            // Gesture completed, no pointers left\n\t            if (numPoints === 0) {\n\t                _isDragging = false;\n\t                helper.unbind(window, _upMoveEvents, self);\n\n\t                _stopDragUpdateLoop();\n\n\t                if (_isZooming) {\n\t                    // Two points released at the same time\n\t                    releaseTimeDiff = 0;\n\t                } else if (_lastReleaseTime !== -1) {\n\t                    releaseTimeDiff = _getCurrentTime() - _lastReleaseTime;\n\t                }\n\t            }\n\t            _lastReleaseTime = numPoints === 1 ? _getCurrentTime() : -1;\n\n\t            if (releaseTimeDiff !== -1 && releaseTimeDiff < 150) {\n\t                gestureType = 'zoom';\n\t            } else {\n\t                gestureType = 'swipe';\n\t            }\n\n\t            if (_isZooming && numPoints < 2) {\n\t                _isZooming = false;\n\n\t                // Only second point released\n\t                if (numPoints === 1) {\n\t                    gestureType = 'zoomPointerUp';\n\t                }\n\t                _shout('zoomGestureEnded');\n\t            }\n\n\t            _currentPoints = null;\n\t            if (!_moved && !_zoomStarted && !_mainScrollAnimating && !_verticalDragInitiated) {\n\t                // nothing to animate\n\t                return;\n\t            }\n\n\t            _stopAllAnimations();\n\n\t            if (!_releaseAnimData) {\n\t                _releaseAnimData = _initDragReleaseAnimationData();\n\t            }\n\n\t            _releaseAnimData.calculateSwipeSpeed('x');\n\n\t            if (_verticalDragInitiated) {\n\n\t                var opacityRatio = _calculateVerticalDragOpacityRatio();\n\n\t                if (opacityRatio < _options.verticalDragRange) {\n\t                    self.close();\n\t                } else {\n\t                    (function () {\n\t                        var initalPanY = _panOffset.y;\n\t                        var initialBgOpacity = _bgOpacity;\n\n\t                        _animateProp('verticalDrag', 0, 1, 300, helper.easing.cubic.out, function (now) {\n\n\t                            _panOffset.y = (self.currItem.initialPosition.y - initalPanY) * now + initalPanY;\n\n\t                            _applyBgOpacity((1 - initialBgOpacity) * now + initialBgOpacity);\n\t                            _applyCurrentZoomPan();\n\t                        });\n\n\t                        _shout('onVerticalDrag', 1);\n\t                    })();\n\t                }\n\n\t                return;\n\t            }\n\n\t            // main scroll\n\t            if ((_mainScrollShifted || _mainScrollAnimating) && numPoints === 0) {\n\t                var itemChanged = _finishSwipeMainScrollGesture(gestureType, _releaseAnimData);\n\t                if (itemChanged) {\n\t                    return;\n\t                }\n\t                gestureType = 'zoomPointerUp';\n\t            }\n\n\t            // prevent zoom/pan animation when main scroll animation runs\n\t            if (_mainScrollAnimating) {\n\t                return;\n\t            }\n\n\t            // Complete simple zoom gesture (reset zoom level if it's out of the bounds)\n\t            if (gestureType !== 'swipe') {\n\t                _completeZoomGesture();\n\t                return;\n\t            }\n\n\t            // Complete pan gesture if main scroll is not shifted, and it's possible to pan current image\n\t            if (!_mainScrollShifted && _currZoomLevel > self.currItem.fitRatio) {\n\t                _completePanGesture(_releaseAnimData);\n\t            }\n\t        };\n\n\t        // Returns object with data about gesture\n\t        // It's created only once and then reused\n\t        var _initDragReleaseAnimationData = function _initDragReleaseAnimationData() {\n\t            // temp local vars\n\t            var lastFlickDuration = void 0;\n\n\t            var tempReleasePos = void 0;\n\n\t            // s = this\n\t            var s = {\n\t                lastFlickOffset: {},\n\t                lastFlickDist: {},\n\t                lastFlickSpeed: {},\n\t                slowDownRatio: {},\n\t                slowDownRatioReverse: {},\n\t                speedDecelerationRatio: {},\n\t                speedDecelerationRatioAbs: {},\n\t                distanceOffset: {},\n\t                backAnimDestination: {},\n\t                backAnimStarted: {},\n\t                calculateSwipeSpeed: function calculateSwipeSpeed(axis) {\n\n\t                    if (_posPoints.length > 1) {\n\t                        lastFlickDuration = _getCurrentTime() - _gestureCheckSpeedTime + 50;\n\t                        tempReleasePos = _posPoints[_posPoints.length - 2][axis];\n\t                    } else {\n\t                        lastFlickDuration = _getCurrentTime() - _gestureStartTime; // total gesture duration\n\t                        tempReleasePos = _startPoint[axis];\n\t                    }\n\t                    s.lastFlickOffset[axis] = _currPoint[axis] - tempReleasePos;\n\t                    s.lastFlickDist[axis] = Math.abs(s.lastFlickOffset[axis]);\n\t                    if (s.lastFlickDist[axis] > 20) {\n\t                        s.lastFlickSpeed[axis] = s.lastFlickOffset[axis] / lastFlickDuration;\n\t                    } else {\n\t                        s.lastFlickSpeed[axis] = 0;\n\t                    }\n\t                    if (Math.abs(s.lastFlickSpeed[axis]) < 0.1) {\n\t                        s.lastFlickSpeed[axis] = 0;\n\t                    }\n\n\t                    s.slowDownRatio[axis] = 0.95;\n\t                    s.slowDownRatioReverse[axis] = 1 - s.slowDownRatio[axis];\n\t                    s.speedDecelerationRatio[axis] = 1;\n\t                },\n\t                calculateOverBoundsAnimOffset: function calculateOverBoundsAnimOffset(axis, speed) {\n\t                    if (!s.backAnimStarted[axis]) {\n\n\t                        if (_panOffset[axis] > _currPanBounds.min[axis]) {\n\t                            s.backAnimDestination[axis] = _currPanBounds.min[axis];\n\t                        } else if (_panOffset[axis] < _currPanBounds.max[axis]) {\n\t                            s.backAnimDestination[axis] = _currPanBounds.max[axis];\n\t                        }\n\n\t                        if (s.backAnimDestination[axis] !== undefined) {\n\t                            s.slowDownRatio[axis] = 0.7;\n\t                            s.slowDownRatioReverse[axis] = 1 - s.slowDownRatio[axis];\n\t                            if (s.speedDecelerationRatioAbs[axis] < 0.05) {\n\n\t                                s.lastFlickSpeed[axis] = 0;\n\t                                s.backAnimStarted[axis] = true;\n\n\t                                _animateProp('bounceZoomPan' + axis, _panOffset[axis], s.backAnimDestination[axis], speed || 300, helper.easing.sine.out, function (pos) {\n\t                                    _panOffset[axis] = pos;\n\t                                    _applyCurrentZoomPan();\n\t                                });\n\t                            }\n\t                        }\n\t                    }\n\t                },\n\n\n\t                // Reduces the speed by slowDownRatio (per 10ms)\n\t                calculateAnimOffset: function calculateAnimOffset(axis) {\n\t                    if (!s.backAnimStarted[axis]) {\n\t                        s.speedDecelerationRatio[axis] = s.speedDecelerationRatio[axis] * (s.slowDownRatio[axis] + s.slowDownRatioReverse[axis] - s.slowDownRatioReverse[axis] * s.timeDiff / 10);\n\n\t                        s.speedDecelerationRatioAbs[axis] = Math.abs(s.lastFlickSpeed[axis] * s.speedDecelerationRatio[axis]);\n\t                        s.distanceOffset[axis] = s.lastFlickSpeed[axis] * s.speedDecelerationRatio[axis] * s.timeDiff;\n\t                        _panOffset[axis] += s.distanceOffset[axis];\n\t                    }\n\t                },\n\t                panAnimLoop: function panAnimLoop() {\n\t                    if (_animations.zoomPan) {\n\t                        _animations.zoomPan.raf = _requestAF(s.panAnimLoop);\n\n\t                        s.now = _getCurrentTime();\n\t                        s.timeDiff = s.now - s.lastNow;\n\t                        s.lastNow = s.now;\n\n\t                        s.calculateAnimOffset('x');\n\t                        s.calculateAnimOffset('y');\n\n\t                        _applyCurrentZoomPan();\n\n\t                        s.calculateOverBoundsAnimOffset('x');\n\t                        s.calculateOverBoundsAnimOffset('y');\n\n\t                        if (s.speedDecelerationRatioAbs.x < 0.05 && s.speedDecelerationRatioAbs.y < 0.05) {\n\n\t                            // round pan position\n\t                            _panOffset.x = Math.round(_panOffset.x);\n\t                            _panOffset.y = Math.round(_panOffset.y);\n\t                            _applyCurrentZoomPan();\n\n\t                            _stopAnimation('zoomPan');\n\t                            return;\n\t                        }\n\t                    }\n\t                }\n\t            };\n\t            return s;\n\t        };\n\n\t        var _completePanGesture = function _completePanGesture(animData) {\n\t            // calculate swipe speed for Y axis (paanning)\n\t            animData.calculateSwipeSpeed('y');\n\n\t            _currPanBounds = self.currItem.bounds;\n\n\t            animData.backAnimDestination = {};\n\t            animData.backAnimStarted = {};\n\n\t            // Avoid acceleration animation if speed is too low\n\t            if (Math.abs(animData.lastFlickSpeed.x) <= 0.05 && Math.abs(animData.lastFlickSpeed.y) <= 0.05) {\n\t                animData.speedDecelerationRatioAbs.x = animData.speedDecelerationRatioAbs.y = 0;\n\n\t                // Run pan drag release animation. E.g. if you drag image and release finger without momentum.\n\t                animData.calculateOverBoundsAnimOffset('x');\n\t                animData.calculateOverBoundsAnimOffset('y');\n\t                return true;\n\t            }\n\n\t            // Animation loop that controls the acceleration after pan gesture ends\n\t            _registerStartAnimation('zoomPan');\n\t            animData.lastNow = _getCurrentTime();\n\t            animData.panAnimLoop();\n\t        };\n\n\t        var _finishSwipeMainScrollGesture = function _finishSwipeMainScrollGesture(gestureType, _releaseAnimData) {\n\t            var itemChanged = void 0;\n\t            if (!_mainScrollAnimating) {\n\t                _currZoomedItemIndex = _currentItemIndex;\n\t            }\n\n\t            var itemsDiff = void 0;\n\n\t            if (gestureType === 'swipe') {\n\t                var totalShiftDist = _currPoint.x - _startPoint.x;\n\t                var isFastLastFlick = _releaseAnimData.lastFlickDist.x < 10;\n\n\t                // if container is shifted for more than MIN_SWIPE_DISTANCE,\n\t                // and last flick gesture was in right direction\n\t                if (totalShiftDist > MIN_SWIPE_DISTANCE && (isFastLastFlick || _releaseAnimData.lastFlickOffset.x > 20)) {\n\t                    // go to prev item\n\t                    itemsDiff = -1;\n\t                } else if (totalShiftDist < -MIN_SWIPE_DISTANCE && (isFastLastFlick || _releaseAnimData.lastFlickOffset.x < -20)) {\n\t                    // go to next item\n\t                    itemsDiff = 1;\n\t                }\n\t            }\n\n\t            var nextCircle = void 0;\n\n\t            if (itemsDiff) {\n\n\t                _currentItemIndex += itemsDiff;\n\n\t                if (_currentItemIndex < 0) {\n\t                    _currentItemIndex = _options.loop ? _getNumItems() - 1 : 0;\n\t                    nextCircle = true;\n\t                } else if (_currentItemIndex >= _getNumItems()) {\n\t                    _currentItemIndex = _options.loop ? 0 : _getNumItems() - 1;\n\t                    nextCircle = true;\n\t                }\n\n\t                if (!nextCircle || _options.loop) {\n\t                    _indexDiff += itemsDiff;\n\t                    _currPositionIndex -= itemsDiff;\n\t                    itemChanged = true;\n\t                }\n\t            }\n\n\t            var animateToX = _slideSize.x * _currPositionIndex;\n\t            var animateToDist = Math.abs(animateToX - _mainScrollPos.x);\n\t            var finishAnimDuration = void 0;\n\n\t            if (!itemChanged && animateToX > _mainScrollPos.x !== _releaseAnimData.lastFlickSpeed.x > 0) {\n\t                // \"return to current\" duration, e.g. when dragging from slide 0 to -1\n\t                finishAnimDuration = 333;\n\t            } else {\n\t                finishAnimDuration = Math.abs(_releaseAnimData.lastFlickSpeed.x) > 0 ? animateToDist / Math.abs(_releaseAnimData.lastFlickSpeed.x) : 333;\n\n\t                finishAnimDuration = Math.min(finishAnimDuration, 400);\n\t                finishAnimDuration = Math.max(finishAnimDuration, 250);\n\t            }\n\n\t            if (_currZoomedItemIndex === _currentItemIndex) {\n\t                itemChanged = false;\n\t            }\n\n\t            _mainScrollAnimating = true;\n\n\t            _shout('mainScrollAnimStart');\n\n\t            _animateProp('mainScroll', _mainScrollPos.x, animateToX, finishAnimDuration, helper.easing.cubic.out, _moveMainScroll, function () {\n\t                _stopAllAnimations();\n\t                _mainScrollAnimating = false;\n\t                _currZoomedItemIndex = -1;\n\n\t                if (itemChanged || _currZoomedItemIndex !== _currentItemIndex) {\n\t                    self.updateCurrItem();\n\t                }\n\n\t                _shout('mainScrollAnimComplete');\n\t            });\n\n\t            if (itemChanged) {\n\t                self.updateCurrItem(true);\n\t            }\n\n\t            return itemChanged;\n\t        };\n\n\t        var _calculateZoomLevel = function _calculateZoomLevel(touchesDistance) {\n\t            return 1 / _startPointsDistance * touchesDistance * _startZoomLevel;\n\t        };\n\n\t        // Resets zoom if it's out of bounds\n\t        var _completeZoomGesture = function _completeZoomGesture() {\n\t            var destZoomLevel = _currZoomLevel;\n\t            var minZoomLevel = _getMinZoomLevel();\n\t            var maxZoomLevel = _getMaxZoomLevel();\n\n\t            if (_currZoomLevel < minZoomLevel) {\n\t                destZoomLevel = minZoomLevel;\n\t            } else if (_currZoomLevel > maxZoomLevel) {\n\t                destZoomLevel = maxZoomLevel;\n\t            }\n\n\t            var destOpacity = 1;\n\t            var onUpdate = void 0;\n\t            var initialOpacity = _bgOpacity;\n\n\t            if (_opacityChanged && !_isZoomingIn && !_wasOverInitialZoom && _currZoomLevel < minZoomLevel) {\n\t                //_closedByScroll = true;\n\t                self.close();\n\t                return true;\n\t            }\n\n\t            if (_opacityChanged) {\n\t                onUpdate = function onUpdate(now) {\n\t                    _applyBgOpacity((destOpacity - initialOpacity) * now + initialOpacity);\n\t                };\n\t            }\n\n\t            self.zoomTo(destZoomLevel, 0, 200, helper.easing.cubic.out, onUpdate);\n\t            return true;\n\t        };\n\n\t        _registerModule('Gestures', {\n\t            publicMethods: {\n\t                initGestures: function initGestures() {\n\n\t                    // helper function that builds touch/pointer/mouse events\n\t                    var addEventNames = function addEventNames(pref, down, move, up, cancel) {\n\t                        _dragStartEvent = pref + down;\n\t                        _dragMoveEvent = pref + move;\n\t                        _dragEndEvent = pref + up;\n\t                        if (cancel) {\n\t                            _dragCancelEvent = pref + cancel;\n\t                        } else {\n\t                            _dragCancelEvent = '';\n\t                        }\n\t                    };\n\n\t                    _pointerEventEnabled = _features.pointerEvent;\n\t                    if (_pointerEventEnabled && _features.touch) {\n\t                        // we don't need touch events, if browser supports pointer events\n\t                        _features.touch = false;\n\t                    }\n\n\t                    if (_pointerEventEnabled) {\n\t                        if (navigator.pointerEnabled) {\n\t                            addEventNames('pointer', 'down', 'move', 'up', 'cancel');\n\t                        } else {\n\t                            // IE10 pointer events are case-sensitive\n\t                            addEventNames('MSPointer', 'Down', 'Move', 'Up', 'Cancel');\n\t                        }\n\t                    } else if (_features.touch) {\n\t                        addEventNames('touch', 'start', 'move', 'end', 'cancel');\n\t                        _likelyTouchDevice = true;\n\t                    } else {\n\t                        addEventNames('mouse', 'down', 'move', 'up');\n\t                    }\n\n\t                    _upMoveEvents = _dragMoveEvent + ' ' + _dragEndEvent + ' ' + _dragCancelEvent;\n\t                    _downEvents = _dragStartEvent;\n\n\t                    if (_pointerEventEnabled && !_likelyTouchDevice) {\n\t                        _likelyTouchDevice = navigator.maxTouchPoints > 1 || navigator.msMaxTouchPoints > 1;\n\t                    }\n\t                    // make variable public\n\t                    self.likelyTouchDevice = _likelyTouchDevice;\n\n\t                    _globalEventHandlers[_dragStartEvent] = _onDragStart;\n\t                    _globalEventHandlers[_dragMoveEvent] = _onDragMove;\n\t                    _globalEventHandlers[_dragEndEvent] = _onDragRelease; // the Kraken\n\n\t                    if (_dragCancelEvent) {\n\t                        _globalEventHandlers[_dragCancelEvent] = _globalEventHandlers[_dragEndEvent];\n\t                    }\n\n\t                    // Bind mouse events on device with detected hardware touch support, in case it supports multiple types of input.\n\t                    if (_features.touch) {\n\t                        _downEvents += ' mousedown';\n\t                        _upMoveEvents += ' mousemove mouseup';\n\t                        _globalEventHandlers.mousedown = _globalEventHandlers[_dragStartEvent];\n\t                        _globalEventHandlers.mousemove = _globalEventHandlers[_dragMoveEvent];\n\t                        _globalEventHandlers.mouseup = _globalEventHandlers[_dragEndEvent];\n\t                    }\n\n\t                    if (!_likelyTouchDevice) {\n\t                        // don't allow pan to next slide from zoomed state on Desktop\n\t                        _options.allowPanToNext = false;\n\t                    }\n\t                }\n\t            }\n\t        });\n\n\t        /**\n\t         * show-hide-transition.js:\n\t         *\n\t         * Manages initial opening or closing transition.\n\t         *\n\t         * If you're not planning to use transition for gallery at all,\n\t         * you may set options hideAnimationDuration and showAnimationDuration to 0,\n\t         * and just delete startAnimation function.\n\t         *\n\t         */\n\n\t        var _showOrHideTimeout = void 0;\n\n\t        var _showOrHide = function _showOrHide(item, img, out, completeFn) {\n\n\t            if (_showOrHideTimeout) {\n\t                clearTimeout(_showOrHideTimeout);\n\t            }\n\n\t            _initialZoomRunning = true;\n\t            _initialContentSet = true;\n\n\t            // dimensions of small thumbnail {x:,y:,w:}.\n\t            // Height is optional, as calculated based on large image.\n\t            var thumbBounds = void 0;\n\t            if (item.initialLayout) {\n\t                thumbBounds = item.initialLayout;\n\t                item.initialLayout = null;\n\t            } else {\n\t                thumbBounds = _options.getThumbBoundsFn && _options.getThumbBoundsFn(_currentItemIndex);\n\t            }\n\n\t            var duration = out ? _options.hideAnimationDuration : _options.showAnimationDuration;\n\n\t            var onComplete = function onComplete() {\n\t                _stopAnimation('initialZoom');\n\t                if (!out) {\n\t                    _applyBgOpacity(1);\n\t                    if (img) {\n\t                        img.style.display = 'block';\n\t                    }\n\t                    helper.addClass(template, 'zvui-pinch__animated-in');\n\t                    _shout('initialZoom' + (out ? 'OutEnd' : 'InEnd'));\n\t                } else {\n\t                    self.template.removeAttribute('style');\n\t                    self.bg.removeAttribute('style');\n\t                }\n\n\t                if (completeFn) {\n\t                    completeFn();\n\t                }\n\t                _initialZoomRunning = false;\n\t            };\n\n\t            // if bounds aren't provided, just open gallery without animation\n\t            if (!duration || !thumbBounds || thumbBounds.x === undefined) {\n\n\t                _shout('initialZoom' + (out ? 'Out' : 'In'));\n\n\t                _currZoomLevel = item.initialZoomLevel;\n\t                _equalizePoints(_panOffset, item.initialPosition);\n\t                _applyCurrentZoomPan();\n\n\t                template.style.opacity = out ? 0 : 1;\n\t                _applyBgOpacity(1);\n\n\t                if (duration) {\n\t                    setTimeout(function () {\n\t                        onComplete();\n\t                    }, duration);\n\t                } else {\n\t                    onComplete();\n\t                }\n\n\t                return;\n\t            }\n\n\t            var startAnimation = function startAnimation() {\n\t                var closeWithRaf = _closedByScroll;\n\t                var fadeEverything = !self.currItem.src || self.currItem.loadError || _options.showHideOpacity;\n\n\t                // apply hw-acceleration to image\n\t                if (item.miniImg) {\n\t                    item.miniImg.style.webkitBackfaceVisibility = 'hidden';\n\t                }\n\n\t                if (!out) {\n\t                    _currZoomLevel = thumbBounds.w / item.w;\n\t                    _panOffset.x = thumbBounds.x;\n\t                    _panOffset.y = thumbBounds.y - _initalWindowScrollY;\n\n\t                    self[fadeEverything ? 'template' : 'bg'].style.opacity = 0.001;\n\t                    _applyCurrentZoomPan();\n\t                }\n\n\t                _registerStartAnimation('initialZoom');\n\n\t                if (out && !closeWithRaf) {\n\t                    helper.removeClass(template, 'zvui-pinch__animated-in');\n\t                }\n\n\t                if (fadeEverything) {\n\t                    if (out) {\n\t                        helper[(closeWithRaf ? 'remove' : 'add') + 'Class'](template, 'zvui-pinch__animate_opacity');\n\t                    } else {\n\t                        setTimeout(function () {\n\t                            helper.addClass(template, 'zvui-pinch__animate_opacity');\n\t                        }, 30);\n\t                    }\n\t                }\n\n\t                _showOrHideTimeout = setTimeout(function () {\n\n\t                    _shout('initialZoom' + (out ? 'Out' : 'In'));\n\n\t                    if (!out) {\n\n\t                        // \"in\" animation always uses CSS transitions (instead of rAF).\n\t                        // CSS transition work faster here,\n\t                        // as developer may also want to animate other things,\n\t                        // like ui on top of sliding area, which can be animated just via CSS\n\n\t                        _currZoomLevel = item.initialZoomLevel;\n\t                        _equalizePoints(_panOffset, item.initialPosition);\n\t                        _applyCurrentZoomPan();\n\t                        _applyBgOpacity(1);\n\n\t                        if (fadeEverything) {\n\t                            template.style.opacity = 1;\n\t                        } else {\n\t                            _applyBgOpacity(1);\n\t                        }\n\n\t                        _showOrHideTimeout = setTimeout(onComplete, duration + 20);\n\t                    } else {\n\t                        (function () {\n\t                            // \"out\" animation uses rAF only when PhotoSwipe is closed by browser scroll, to recalculate position\n\t                            var destZoomLevel = thumbBounds.w / item.w;\n\n\t                            var initialPanOffset = {\n\t                                x: _panOffset.x,\n\t                                y: _panOffset.y\n\t                            };\n\n\t                            var initialZoomLevel = _currZoomLevel;\n\t                            var initalBgOpacity = _bgOpacity;\n\n\t                            var onUpdate = function onUpdate(now) {\n\n\t                                if (now === 1) {\n\t                                    _currZoomLevel = destZoomLevel;\n\t                                    _panOffset.x = thumbBounds.x;\n\t                                    _panOffset.y = thumbBounds.y - _currentWindowScrollY;\n\t                                } else {\n\t                                    _currZoomLevel = (destZoomLevel - initialZoomLevel) * now + initialZoomLevel;\n\t                                    _panOffset.x = (thumbBounds.x - initialPanOffset.x) * now + initialPanOffset.x;\n\t                                    _panOffset.y = (thumbBounds.y - _currentWindowScrollY - initialPanOffset.y) * now + initialPanOffset.y;\n\t                                }\n\n\t                                _applyCurrentZoomPan();\n\t                                if (fadeEverything) {\n\t                                    template.style.opacity = 1 - now;\n\t                                } else {\n\t                                    _applyBgOpacity(initalBgOpacity - now * initalBgOpacity);\n\t                                }\n\t                            };\n\n\t                            if (closeWithRaf) {\n\t                                _animateProp('initialZoom', 0, 1, duration, helper.easing.cubic.out, onUpdate, onComplete);\n\t                            } else {\n\t                                onUpdate(1);\n\t                                _showOrHideTimeout = setTimeout(onComplete, duration + 20);\n\t                            }\n\t                        })();\n\t                    }\n\t                }, out ? 25 : 90); // Main purpose of this delay is to give browser time to paint and\n\t                // create composite layers of PhotoSwipe UI parts (background, controls, caption, arrows).\n\t                // Which avoids lag at the beginning of scale transition.\n\t            };\n\t            startAnimation();\n\t        };\n\n\t        /**\n\t         *\n\t         * Controller manages gallery items, their dimensions, and their content.\n\t         *\n\t         */\n\n\t        var _items = void 0;\n\n\t        var _tempPanAreaSize = {};\n\t        var _imagesToAppendPool = [];\n\t        var _initialContentSet = void 0;\n\t        var _initialZoomRunning = void 0;\n\n\t        var _controllerDefaultOptions = {\n\t            index: 0,\n\t            errorMsg: '<div class=\"zvui-pinch__error-msg\"><a href=\"%url%\" target=\"_blank\">The image</a> could not be loaded.</div>',\n\t            forceProgressiveLoading: false, // TODO\n\t            preload: [1, 1],\n\t            getNumItemsFn: function getNumItemsFn() {\n\t                return _items.length;\n\t            }\n\t        };\n\n\t        var _getItemAt = void 0;\n\t        var _getNumItems = void 0;\n\t        var _initialIsLoop = void 0;\n\n\t        var _getZeroBounds = function _getZeroBounds() {\n\t            return {\n\t                center: {\n\t                    x: 0,\n\t                    y: 0\n\t                },\n\n\t                max: {\n\t                    x: 0,\n\t                    y: 0\n\t                },\n\n\t                min: {\n\t                    x: 0,\n\t                    y: 0\n\t                }\n\t            };\n\t        };\n\n\t        var _calculateSingleItemPanBounds = function _calculateSingleItemPanBounds(item, realPanElementW, realPanElementH) {\n\t            var bounds = item.bounds;\n\n\t            // position of element when it's centered\n\t            bounds.center.x = Math.round((_tempPanAreaSize.x - realPanElementW) / 2);\n\t            bounds.center.y = Math.round((_tempPanAreaSize.y - realPanElementH) / 2) + item.vGap.top;\n\n\t            // maximum pan position\n\t            bounds.max.x = realPanElementW > _tempPanAreaSize.x ? Math.round(_tempPanAreaSize.x - realPanElementW) : bounds.center.x;\n\n\t            bounds.max.y = realPanElementH > _tempPanAreaSize.y ? Math.round(_tempPanAreaSize.y - realPanElementH) + item.vGap.top : bounds.center.y;\n\n\t            // minimum pan position\n\t            bounds.min.x = realPanElementW > _tempPanAreaSize.x ? 0 : bounds.center.x;\n\t            bounds.min.y = realPanElementH > _tempPanAreaSize.y ? item.vGap.top : bounds.center.y;\n\t        };\n\n\t        var _calculateItemSize = function _calculateItemSize(item, viewportSize, zoomLevel) {\n\n\t            if (item.src && !item.loadError) {\n\t                var isInitial = !zoomLevel;\n\n\t                if (isInitial) {\n\t                    if (!item.vGap) {\n\t                        item.vGap = {\n\t                            top: 0,\n\t                            bottom: 0\n\t                        };\n\t                    }\n\t                    // allows overriding vertical margin for individual items\n\t                    _shout('parseVerticalMargin', item);\n\t                }\n\n\t                _tempPanAreaSize.x = viewportSize.x;\n\t                _tempPanAreaSize.y = viewportSize.y - item.vGap.top - item.vGap.bottom;\n\n\t                if (isInitial) {\n\t                    var hRatio = _tempPanAreaSize.x / item.w;\n\t                    var vRatio = _tempPanAreaSize.y / item.h;\n\n\t                    item.fitRatio = hRatio < vRatio ? hRatio : vRatio;\n\t                    //item.fillRatio = hRatio > vRatio ? hRatio : vRatio;\n\n\t                    var scaleMode = _options.scaleMode;\n\n\t                    if (scaleMode === 'orig') {\n\t                        zoomLevel = 1;\n\t                    } else if (scaleMode === 'fit') {\n\t                        zoomLevel = item.fitRatio;\n\t                    }\n\n\t                    if (zoomLevel > 1) {\n\t                        zoomLevel = 1;\n\t                    }\n\n\t                    item.initialZoomLevel = zoomLevel;\n\n\t                    if (!item.bounds) {\n\t                        // reuse bounds object\n\t                        item.bounds = _getZeroBounds();\n\t                    }\n\t                }\n\n\t                if (!zoomLevel) {\n\t                    return;\n\t                }\n\n\t                _calculateSingleItemPanBounds(item, item.w * zoomLevel, item.h * zoomLevel);\n\n\t                if (isInitial && zoomLevel === item.initialZoomLevel) {\n\t                    item.initialPosition = item.bounds.center;\n\t                }\n\n\t                return item.bounds;\n\t            } else {\n\t                item.w = item.h = 0;\n\t                item.initialZoomLevel = item.fitRatio = 1;\n\t                item.bounds = _getZeroBounds();\n\t                item.initialPosition = item.bounds.center;\n\n\t                // if it's not image, we return zero bounds (content is not zoomable)\n\t                return item.bounds;\n\t            }\n\t        };\n\n\t        var _appendImage = function _appendImage(index, item, baseDiv, img, preventAnimation, keepPlaceholder) {\n\n\t            if (item.loadError) {\n\t                return;\n\t            }\n\n\t            if (img) {\n\n\t                item.imageAppended = true;\n\t                _setImageSize(item, img, item === self.currItem && _renderMaxResolution);\n\n\t                baseDiv.appendChild(img);\n\n\t                if (keepPlaceholder) {\n\t                    setTimeout(function () {\n\t                        if (item && item.loaded && item.placeholder) {\n\t                            item.placeholder.style.display = 'none';\n\t                            item.placeholder = null;\n\t                        }\n\t                    }, 500);\n\t                }\n\t            }\n\t        };\n\n\t        var _preloadImage = function _preloadImage(item) {\n\t            item.loading = true;\n\t            item.loaded = false;\n\t            var img = item.img = helper.createEl('zvui-pinch__img', 'img');\n\t            var onComplete = function onComplete() {\n\t                item.loading = false;\n\t                item.loaded = true;\n\n\t                if (item.loadComplete) {\n\t                    item.loadComplete(item);\n\t                } else {\n\t                    item.img = null; // no need to store image object\n\t                }\n\t                img.onload = img.onerror = null;\n\t                img = null;\n\t            };\n\t            img.onload = onComplete;\n\t            img.onerror = function () {\n\t                item.loadError = true;\n\t                onComplete();\n\t            };\n\n\t            img.src = item.src; // + '?a=' + Math.random();\n\n\t            return img;\n\t        };\n\n\t        var _checkForError = function _checkForError(item, cleanUp) {\n\t            if (item.src && item.loadError && item.container) {\n\n\t                if (cleanUp) {\n\t                    item.container.innerHTML = '';\n\t                }\n\n\t                item.container.innerHTML = _options.errorMsg.replace('%url%', item.src);\n\t                return true;\n\t            }\n\t        };\n\n\t        var _setImageSize = function _setImageSize(item, img, maxRes) {\n\t            if (!item.src) {\n\t                return;\n\t            }\n\n\t            if (!img) {\n\t                img = item.container.lastChild;\n\t            }\n\n\t            var w = maxRes ? item.w : Math.round(item.w * item.fitRatio);\n\t            var h = maxRes ? item.h : Math.round(item.h * item.fitRatio);\n\n\t            if (item.placeholder && !item.loaded) {\n\t                item.placeholder.style.width = w + 'px';\n\t                item.placeholder.style.height = h + 'px';\n\t            }\n\n\t            img.style.width = w + 'px';\n\t            img.style.height = h + 'px';\n\t        };\n\n\t        var _appendImagesPool = function _appendImagesPool() {\n\n\t            if (_imagesToAppendPool.length) {\n\t                var poolItem = void 0;\n\n\t                for (var i = 0; i < _imagesToAppendPool.length; i++) {\n\t                    poolItem = _imagesToAppendPool[i];\n\t                    if (poolItem.holder.index === poolItem.index) {\n\t                        _appendImage(poolItem.index, poolItem.item, poolItem.baseDiv, poolItem.img, false, poolItem.clearPlaceholder);\n\t                    }\n\t                }\n\t                _imagesToAppendPool = [];\n\t            }\n\t        };\n\n\t        _registerModule('Controller', {\n\n\t            publicMethods: {\n\t                lazyLoadItem: function lazyLoadItem(index) {\n\t                    index = _getLoopedId(index);\n\t                    var item = _getItemAt(index);\n\n\t                    if (!item || (item.loaded || item.loading) && !_itemsNeedUpdate) {\n\t                        return;\n\t                    }\n\n\t                    _shout('gettingData', index, item);\n\n\t                    if (!item.src) {\n\t                        return;\n\t                    }\n\n\t                    _preloadImage(item);\n\t                },\n\t                initController: function initController() {\n\t                    helper.extend(_options, _controllerDefaultOptions, true);\n\t                    self.items = _items = items;\n\t                    _getItemAt = self.getItemAt;\n\t                    _getNumItems = _options.getNumItemsFn; //self.getNumItems;\n\n\n\t                    _initialIsLoop = _options.loop;\n\t                    if (_getNumItems() < 3) {\n\t                        _options.loop = false; // disable loop if less then 3 items\n\t                    }\n\n\t                    _listen('beforeChange', function (diff) {\n\t                        var p = _options.preload;\n\t                        var isNext = diff === null ? true : diff >= 0;\n\t                        var preloadBefore = Math.min(p[0], _getNumItems());\n\t                        var preloadAfter = Math.min(p[1], _getNumItems());\n\t                        var i = void 0;\n\n\t                        for (i = 1; i <= (isNext ? preloadAfter : preloadBefore); i++) {\n\t                            self.lazyLoadItem(_currentItemIndex + i);\n\t                        }\n\t                        for (i = 1; i <= (isNext ? preloadBefore : preloadAfter); i++) {\n\t                            self.lazyLoadItem(_currentItemIndex - i);\n\t                        }\n\t                    });\n\n\t                    _listen('initialLayout', function () {\n\t                        self.currItem.initialLayout = _options.getThumbBoundsFn && _options.getThumbBoundsFn(_currentItemIndex);\n\t                    });\n\n\t                    _listen('mainScrollAnimComplete', _appendImagesPool);\n\t                    _listen('initialZoomInEnd', _appendImagesPool);\n\n\t                    _listen('destroy', function () {\n\t                        var item = void 0;\n\t                        for (var i = 0; i < _items.length; i++) {\n\t                            item = _items[i];\n\t                            // remove reference to DOM elements, for GC\n\t                            if (item.container) {\n\t                                item.container = null;\n\t                            }\n\t                            if (item.placeholder) {\n\t                                item.placeholder = null;\n\t                            }\n\t                            if (item.img) {\n\t                                item.img = null;\n\t                            }\n\t                            if (item.preloader) {\n\t                                item.preloader = null;\n\t                            }\n\t                            if (item.loadError) {\n\t                                item.loaded = item.loadError = false;\n\t                            }\n\t                        }\n\t                        _imagesToAppendPool = null;\n\t                    });\n\t                },\n\t                getItemAt: function getItemAt(index) {\n\t                    if (index >= 0) {\n\t                        return _items[index] !== undefined ? _items[index] : false;\n\t                    }\n\t                    return false;\n\t                },\n\t                allowProgressiveImg: function allowProgressiveImg() {\n\t                    // 1. Progressive image loading isn't working on webkit/blink\n\t                    //    when hw-acceleration (e.g. translateZ) is applied to IMG element.\n\t                    //    That's why in PhotoSwipe parent element gets zoom transform, not image itself.\n\t                    //\n\t                    // 2. Progressive image loading sometimes blinks in webkit/blink when applying animation to parent element.\n\t                    //    That's why it's disabled on touch devices (mainly because of swipe transition)\n\t                    //\n\t                    // 3. Progressive image loading sometimes doesn't work in IE (up to 11).\n\n\t                    // Don't allow progressive loading on non-large touch devices\n\t                    return _options.forceProgressiveLoading || !_likelyTouchDevice || _options.mouseUsed || screen.width > 1200;\n\t                    // 1200 - to eliminate touch devices with large screen (like Chromebook Pixel)\n\t                },\n\t                setContent: function setContent(holder, index) {\n\t                    if (_options.loop) {\n\t                        index = _getLoopedId(index);\n\t                    }\n\n\t                    var prevItem = self.getItemAt(holder.index);\n\t                    if (prevItem) {\n\t                        prevItem.container = null;\n\t                    }\n\n\t                    var item = self.getItemAt(index);\n\t                    var img = void 0;\n\n\t                    if (!item) {\n\t                        holder.el.innerHTML = '';\n\t                        return;\n\t                    }\n\n\t                    // allow to override data\n\t                    _shout('gettingData', index, item);\n\n\t                    holder.index = index;\n\t                    holder.item = item;\n\n\t                    // base container DIV is created only once for each of 3 holders\n\t                    var baseDiv = item.container = helper.createEl('zvui-pinch__zoom-wrap');\n\n\t                    if (!item.src && item.html) {\n\t                        if (item.html.tagName) {\n\t                            baseDiv.appendChild(item.html);\n\t                        } else {\n\t                            baseDiv.innerHTML = item.html;\n\t                        }\n\t                    }\n\n\t                    _checkForError(item);\n\n\t                    _calculateItemSize(item, _viewportSize);\n\n\t                    if (item.src && !item.loadError && !item.loaded) {\n\n\t                        item.loadComplete = function (item) {\n\n\t                            // gallery closed before image finished loading\n\t                            if (!_isOpen) {\n\t                                return;\n\t                            }\n\n\t                            // check if holder hasn't changed while image was loading\n\t                            if (holder && holder.index === index) {\n\t                                if (_checkForError(item, true)) {\n\t                                    item.loadComplete = item.img = null;\n\t                                    _calculateItemSize(item, _viewportSize);\n\t                                    _applyZoomPanToItem(item);\n\n\t                                    if (holder.index === _currentItemIndex) {\n\t                                        // recalculate dimensions\n\t                                        self.updateCurrZoomItem();\n\t                                    }\n\t                                    return;\n\t                                }\n\t                                if (!item.imageAppended) {\n\t                                    if (_features.transform && (_mainScrollAnimating || _initialZoomRunning)) {\n\t                                        _imagesToAppendPool.push({\n\t                                            item: item,\n\t                                            baseDiv: baseDiv,\n\t                                            img: item.img,\n\t                                            index: index,\n\t                                            holder: holder,\n\t                                            clearPlaceholder: true\n\t                                        });\n\t                                    } else {\n\t                                        _appendImage(index, item, baseDiv, item.img, _mainScrollAnimating || _initialZoomRunning, true);\n\t                                    }\n\t                                } else {\n\t                                    // remove preloader & mini-img\n\t                                    if (!_initialZoomRunning && item.placeholder) {\n\t                                        item.placeholder.style.display = 'none';\n\t                                        item.placeholder = null;\n\t                                    }\n\t                                }\n\t                            }\n\n\t                            item.loadComplete = null;\n\t                            item.img = null; // no need to store image element after it's added\n\n\t                            _shout('imageLoadComplete', index, item);\n\t                        };\n\n\t                        if (helper.features.transform) {\n\n\t                            var placeholderClassName = 'zvui-pinch__img zvui-pinch__img--placeholder';\n\t                            placeholderClassName += item.msrc ? '' : ' zvui-pinch__img--placeholder--blank';\n\n\t                            var placeholder = helper.createEl(placeholderClassName, item.msrc ? 'img' : '');\n\t                            if (item.msrc) {\n\t                                placeholder.src = item.msrc;\n\t                            }\n\n\t                            _setImageSize(item, placeholder);\n\n\t                            baseDiv.appendChild(placeholder);\n\t                            item.placeholder = placeholder;\n\t                        }\n\n\t                        if (!item.loading) {\n\t                            _preloadImage(item);\n\t                        }\n\n\t                        if (self.allowProgressiveImg()) {\n\t                            // just append image\n\t                            if (!_initialContentSet && _features.transform) {\n\t                                _imagesToAppendPool.push({\n\t                                    item: item,\n\t                                    baseDiv: baseDiv,\n\t                                    img: item.img,\n\t                                    index: index,\n\t                                    holder: holder\n\t                                });\n\t                            } else {\n\t                                _appendImage(index, item, baseDiv, item.img, true, true);\n\t                            }\n\t                        }\n\t                    } else if (item.src && !item.loadError) {\n\t                        // image object is created every time, due to bugs of image loading & delay when switching images\n\t                        img = helper.createEl('zvui-pinch__img', 'img');\n\t                        img.style.opacity = 1;\n\t                        img.src = item.src;\n\t                        _setImageSize(item, img);\n\t                        _appendImage(index, item, baseDiv, img, true);\n\t                    }\n\n\t                    if (!_initialContentSet && index === _currentItemIndex) {\n\t                        _currZoomElementStyle = baseDiv.style;\n\t                        _showOrHide(item, img || item.img);\n\t                    } else {\n\t                        _applyZoomPanToItem(item);\n\t                    }\n\n\t                    holder.el.innerHTML = '';\n\t                    holder.el.appendChild(baseDiv);\n\t                },\n\t                cleanSlide: function cleanSlide(item) {\n\t                    if (item.img) {\n\t                        item.img.onload = item.img.onerror = null;\n\t                    }\n\t                    item.loaded = item.loading = item.img = item.imageAppended = false;\n\t                }\n\t            }\n\t        });\n\n\t        /**\n\t         * tap.js:\n\t         *\n\t         * Displatches tap and double-tap events.\n\t         *\n\t         */\n\n\t        var tapTimer = void 0;\n\n\t        var tapReleasePoint = {};\n\n\t        var _dispatchTapEvent = function _dispatchTapEvent(origEvent, releasePoint, pointerType) {\n\t            var e = document.createEvent('CustomEvent');\n\n\t            var eDetail = {\n\t                origEvent: origEvent,\n\t                target: origEvent.target,\n\t                releasePoint: releasePoint,\n\t                pointerType: pointerType || 'touch'\n\t            };\n\n\t            e.initCustomEvent('zvuiPinchTap', true, true, eDetail);\n\t            origEvent.target.dispatchEvent(e);\n\t        };\n\n\t        _registerModule('Tap', {\n\t            publicMethods: {\n\t                initTap: function initTap() {\n\t                    _listen('firstTouchStart', self.onTapStart);\n\t                    _listen('touchRelease', self.onTapRelease);\n\t                    _listen('destroy', function () {\n\t                        tapReleasePoint = {};\n\t                        tapTimer = null;\n\t                    });\n\t                },\n\t                onTapStart: function onTapStart(touchList) {\n\t                    if (touchList.length > 1) {\n\t                        clearTimeout(tapTimer);\n\t                        tapTimer = null;\n\t                    }\n\t                },\n\t                onTapRelease: function onTapRelease(e, releasePoint) {\n\t                    if (!releasePoint) {\n\t                        return;\n\t                    }\n\n\t                    if (!_moved && !_isMultitouch && !_numAnimations) {\n\t                        var p0 = releasePoint;\n\t                        if (tapTimer) {\n\t                            clearTimeout(tapTimer);\n\t                            tapTimer = null;\n\n\t                            // Check if taped on the same place\n\t                            if (_isNearbyPoints(p0, tapReleasePoint)) {\n\t                                _shout('doubleTap', p0);\n\t                                return;\n\t                            }\n\t                        }\n\n\t                        if (releasePoint.type === 'mouse') {\n\t                            _dispatchTapEvent(e, releasePoint, 'mouse');\n\t                            return;\n\t                        }\n\n\t                        var clickedTagName = e.target.tagName.toUpperCase();\n\t                        // avoid double tap delay on buttons and elements that have class zvui-pinch__single-tap\n\t                        if (clickedTagName === 'BUTTON' || helper.hasClass(e.target, 'zvui-pinch__single-tap')) {\n\t                            _dispatchTapEvent(e, releasePoint);\n\t                            return;\n\t                        }\n\n\t                        _equalizePoints(tapReleasePoint, p0);\n\n\t                        tapTimer = setTimeout(function () {\n\t                            _dispatchTapEvent(e, releasePoint);\n\t                            tapTimer = null;\n\t                        }, 300);\n\t                    }\n\t                }\n\t            }\n\t        });\n\t        helper.extend(self, publicMethods);\n\t    };\n\t});\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;'use strict';\n\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n\t(function (root, factory) {\n\t    if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    } else if ((typeof exports === 'undefined' ? 'undefined' : _typeof(exports)) === 'object') {\n\t        module.exports = factory(require, exports, module);\n\t    } else {\n\t        root.ZVUIPinch_Default = factory();\n\t    }\n\t})(undefined, function (require, exports, module) {\n\n\t    return function (zvuiPinch, helper) {\n\t        /**\n\t        *\n\t        * UI on top of main sliding area (caption, arrows, close button, etc.).\n\t        * Built just using public methods/properties of PhotoSwipe.\n\t        *\n\t        */\n\t        var ui = this;\n\t        var _overlayUIUpdated = false;\n\t        var _controlsVisible = true;\n\t        var _fullscrenAPI = void 0;\n\t        var _controls = void 0;\n\t        var _captionContainer = void 0;\n\t        var _fakeCaptionContainer = void 0;\n\t        var _indexIndicator = void 0;\n\t        var _initalCloseOnScrollValue = void 0;\n\t        var _isIdle = void 0;\n\t        var _listen = void 0;\n\t        var _loadingIndicator = void 0;\n\t        var _loadingIndicatorHidden = void 0;\n\t        var _loadingIndicatorTimeout = void 0;\n\t        var _galleryHasOneSlide = void 0;\n\t        var _options = void 0;\n\n\t        var _defaultUIOptions = {\n\t            barsSize: {\n\t                top: 44,\n\t                bottom: 'auto'\n\t            },\n\t            closeElClasses: ['item', 'caption', 'zoom-wrap', 'ui', 'top-bar'],\n\t            timeToIdle: 4000,\n\t            timeToIdleOutside: 1000,\n\t            loadingIndicatorDelay: 100, // 2s\n\n\t            addCaptionHTMLFn: function addCaptionHTMLFn(item, captionEl /*, isFake */) {\n\t                if (!item.title) {\n\t                    captionEl.children[0].innerHTML = '';\n\t                    return false;\n\t                }\n\t                captionEl.children[0].innerHTML = item.title;\n\t                return true;\n\t            },\n\n\n\t            closeEl: true,\n\t            captionEl: false,\n\t            fullscreenEl: false,\n\t            zoomEl: true,\n\t            counterEl: false,\n\t            arrowEl: false,\n\t            preloaderEl: true,\n\n\t            tapToClose: true,\n\t            tapToToggleControls: true,\n\n\t            clickToCloseNonZoomable: true,\n\n\t            indexIndicatorSep: ' / ',\n\t            fitControlsWidth: 1200\n\n\t        };\n\n\t        var _blockControlsTap = void 0;\n\t        var _blockControlsTapTimeout = void 0;\n\n\t        var _onControlsTap = function _onControlsTap(e) {\n\t            if (_blockControlsTap) {\n\t                return true;\n\t            }\n\n\t            e = e || window.event;\n\n\t            if (_options.timeToIdle && _options.mouseUsed && !_isIdle) {\n\t                // reset idle timer\n\t                _onIdleMouseMove();\n\t            }\n\n\t            var target = e.target || e.srcElement;\n\t            var uiElement = void 0;\n\t            var clickedClass = target.getAttribute('class') || '';\n\t            var found = void 0;\n\n\t            for (var i = 0; i < _uiElements.length; i++) {\n\t                uiElement = _uiElements[i];\n\t                if (uiElement.onTap && clickedClass.includes('zvui-pinch__' + uiElement.name)) {\n\t                    uiElement.onTap();\n\t                    found = true;\n\t                }\n\t            }\n\n\t            if (found) {\n\t                if (e.stopPropagation) {\n\t                    e.stopPropagation();\n\t                }\n\t                _blockControlsTap = true;\n\n\t                // Some versions of Android don't prevent ghost click event\n\t                // when preventDefault() was called on touchstart and/or touchend.\n\t                //\n\t                // This happens on v4.3, 4.2, 4.1,\n\t                // older versions strangely work correctly,\n\t                // but just in case we add delay on all of them)\n\t                var tapDelay = helper.features.isOldAndroid ? 600 : 30;\n\t                _blockControlsTapTimeout = setTimeout(function () {\n\t                    _blockControlsTap = false;\n\t                }, tapDelay);\n\t            }\n\t        };\n\n\t        var _fitControlsInViewport = function _fitControlsInViewport() {\n\t            return !zvuiPinch.likelyTouchDevice || _options.mouseUsed || screen.width > _options.fitControlsWidth;\n\t        };\n\n\t        var _toggleZvuiPinchClass = function _toggleZvuiPinchClass(el, cName, add) {\n\t            helper[(add ? 'add' : 'remove') + 'Class'](el, 'zvui-pinch__' + cName);\n\t        };\n\n\t        var _countNumItems = function _countNumItems() {\n\t            // add class when there is just one item in the gallery\n\t            // (by default it hides left/right arrows and 1ofX counter)\n\t            var hasOneSlide = _options.getNumItemsFn() === 1;\n\t            if (hasOneSlide !== _galleryHasOneSlide) {\n\t                _toggleZvuiPinchClass(_controls, 'ui--one-slide', hasOneSlide);\n\t                _galleryHasOneSlide = hasOneSlide;\n\t            }\n\t        };\n\n\t        var _hasCloseClass = function _hasCloseClass(target) {\n\t            for (var i = 0; i < _options.closeElClasses.length; i++) {\n\t                if (helper.hasClass(target, 'zvui-pinch__' + _options.closeElClasses[i])) {\n\t                    return true;\n\t                }\n\t            }\n\t        };\n\n\t        var _idleInterval = void 0;\n\t        var _idleTimer = void 0;\n\t        var _idleIncrement = 0;\n\n\t        var _onIdleMouseMove = function _onIdleMouseMove() {\n\t            clearTimeout(_idleTimer);\n\t            _idleIncrement = 0;\n\t            if (_isIdle) {\n\t                ui.setIdle(false);\n\t            }\n\t        };\n\n\t        var _onMouseLeaveWindow = function _onMouseLeaveWindow(e) {\n\t            e = e ? e : window.event;\n\t            var from = e.relatedTarget || e.toElement;\n\t            if (!from || from.nodeName === 'HTML') {\n\t                clearTimeout(_idleTimer);\n\t                _idleTimer = setTimeout(function () {\n\t                    ui.setIdle(true);\n\t                }, _options.timeToIdleOutside);\n\t            }\n\t        };\n\n\t        var _setupFullscreenAPI = function _setupFullscreenAPI() {\n\t            if (_options.fullscreenEl && !helper.features.isOldAndroid) {\n\t                if (!_fullscrenAPI) {\n\t                    _fullscrenAPI = ui.getFullscreenAPI();\n\t                }\n\t                if (_fullscrenAPI) {\n\t                    helper.bind(document, _fullscrenAPI.eventK, ui.updateFullscreen);\n\t                    ui.updateFullscreen();\n\t                    helper.addClass(zvuiPinch.template, 'zvui-pinch--supports-fs');\n\t                } else {\n\t                    helper.removeClass(zvuiPinch.template, 'zvui-pinch--supports-fs');\n\t                }\n\t            }\n\t        };\n\n\t        var _setupLoadingIndicator = function _setupLoadingIndicator() {\n\t            // Setup loading indicator\n\t            if (_options.preloaderEl) {\n\n\t                _toggleLoadingIndicator(true);\n\n\t                _listen('beforeChange', function () {\n\n\t                    clearTimeout(_loadingIndicatorTimeout);\n\n\t                    // display loading indicator with delay\n\t                    _loadingIndicatorTimeout = setTimeout(function () {\n\n\t                        if (zvuiPinch.currItem && zvuiPinch.currItem.loading) {\n\n\t                            if (!zvuiPinch.allowProgressiveImg() || zvuiPinch.currItem.img && !zvuiPinch.currItem.img.naturalWidth) {\n\t                                // show preloader if progressive loading is not enabled,\n\t                                // or image width is not defined yet (because of slow connection)\n\t                                _toggleLoadingIndicator(false);\n\t                                // items-controller.js function allowProgressiveImg\n\t                            }\n\t                        } else {\n\t                            _toggleLoadingIndicator(true); // hide preloader\n\t                        }\n\t                    }, _options.loadingIndicatorDelay);\n\t                });\n\t                _listen('imageLoadComplete', function (index, item) {\n\t                    if (zvuiPinch.currItem === item) {\n\t                        _toggleLoadingIndicator(true);\n\t                    }\n\t                });\n\t            }\n\t        };\n\n\t        var _toggleLoadingIndicator = function _toggleLoadingIndicator(hide) {\n\t            if (_loadingIndicatorHidden !== hide) {\n\t                _toggleZvuiPinchClass(_loadingIndicator, 'preloader--active', !hide);\n\t                _loadingIndicatorHidden = hide;\n\t            }\n\t        };\n\n\t        var _applyNavBarGaps = function _applyNavBarGaps(item) {\n\t            var gap = item.vGap;\n\n\t            if (_fitControlsInViewport()) {\n\n\t                var bars = _options.barsSize;\n\t                if (_options.captionEl && bars.bottom === 'auto') {\n\t                    if (!_fakeCaptionContainer) {\n\t                        _fakeCaptionContainer = helper.createEl('zvui-pinch__caption zvui-pinch__caption--fake');\n\t                        _fakeCaptionContainer.appendChild(helper.createEl('zvui-pinch__caption__center'));\n\t                        _controls.insertBefore(_fakeCaptionContainer, _captionContainer);\n\t                        helper.addClass(_controls, 'zvui-pinch__ui--fit');\n\t                    }\n\t                    if (_options.addCaptionHTMLFn(item, _fakeCaptionContainer, true)) {\n\n\t                        var captionSize = _fakeCaptionContainer.clientHeight;\n\t                        gap.bottom = parseInt(captionSize, 10) || 44;\n\t                    } else {\n\t                        gap.bottom = bars.top; // if no caption, set size of bottom gap to size of top\n\t                    }\n\t                } else {\n\t                    gap.bottom = bars.bottom === 'auto' ? 0 : bars.bottom;\n\t                }\n\n\t                // height of top bar is static, no need to calculate it\n\t                gap.top = bars.top;\n\t            } else {\n\t                gap.top = gap.bottom = 0;\n\t            }\n\t        };\n\n\t        var _setupIdle = function _setupIdle() {\n\t            // Hide controls when mouse is used\n\t            if (_options.timeToIdle) {\n\t                _listen('mouseUsed', function () {\n\n\t                    helper.bind(document, 'mousemove', _onIdleMouseMove);\n\t                    helper.bind(document, 'mouseout', _onMouseLeaveWindow);\n\n\t                    _idleInterval = setInterval(function () {\n\t                        _idleIncrement++;\n\t                        if (_idleIncrement === 2) {\n\t                            ui.setIdle(true);\n\t                        }\n\t                    }, _options.timeToIdle / 2);\n\t                });\n\t            }\n\t        };\n\n\t        var _setupHidingControlsDuringGestures = function _setupHidingControlsDuringGestures() {\n\n\t            // Hide controls on vertical drag\n\t            _listen('onVerticalDrag', function (now) {\n\t                if (_controlsVisible && now < 0.95) {\n\t                    ui.hideControls();\n\t                } else if (!_controlsVisible && now >= 0.95) {\n\t                    ui.showControls();\n\t                }\n\t            });\n\n\t            // Hide controls when pinching to close\n\t            var pinchControlsHidden = void 0;\n\t            _listen('onPinchClose', function (now) {\n\t                if (_controlsVisible && now < 0.9) {\n\t                    ui.hideControls();\n\t                    pinchControlsHidden = true;\n\t                } else if (pinchControlsHidden && !_controlsVisible && now > 0.9) {\n\t                    ui.showControls();\n\t                }\n\t            });\n\n\t            _listen('zoomGestureEnded', function () {\n\t                pinchControlsHidden = false;\n\t                if (pinchControlsHidden && !_controlsVisible) {\n\t                    ui.showControls();\n\t                }\n\t            });\n\t        };\n\n\t        var _uiElements = [{\n\t            name: 'button--zoom',\n\t            option: 'zoomEl',\n\t            onTap: zvuiPinch.toggleDesktopZoom\n\t        }, {\n\t            name: 'button--close',\n\t            option: 'closeEl',\n\t            onTap: zvuiPinch.close\n\t        }, {\n\t            name: 'button--fs',\n\t            option: 'fullscreenEl',\n\t            onTap: function onTap() {\n\t                if (_fullscrenAPI.isFullscreen()) {\n\t                    _fullscrenAPI.exit();\n\t                } else {\n\t                    _fullscrenAPI.enter();\n\t                }\n\t            }\n\t        }, {\n\t            name: 'preloader',\n\t            option: 'preloaderEl',\n\t            onInit: function onInit(el) {\n\t                _loadingIndicator = el;\n\t            }\n\t        }];\n\n\t        var _setupUIElements = function _setupUIElements() {\n\t            var item = void 0;\n\t            var classAttr = void 0;\n\t            var uiElement = void 0;\n\n\t            var loopThroughChildElements = function loopThroughChildElements(sChildren) {\n\t                if (!sChildren) {\n\t                    return;\n\t                }\n\n\t                var l = sChildren.length;\n\t                for (var i = 0; i < l; i++) {\n\t                    item = sChildren[i];\n\t                    classAttr = item.className;\n\n\t                    for (var a = 0; a < _uiElements.length; a++) {\n\t                        uiElement = _uiElements[a];\n\n\t                        if (classAttr.includes('zvui-pinch__' + uiElement.name)) {\n\n\t                            if (_options[uiElement.option]) {\n\t                                // if element is not disabled from options\n\n\t                                helper.removeClass(item, 'zvui-pinch__element--disabled');\n\t                                if (uiElement.onInit) {\n\t                                    uiElement.onInit(item);\n\t                                }\n\n\t                                //item.style.display = 'block';\n\t                            } else {\n\t                                helper.addClass(item, 'zvui-pinch__element--disabled');\n\t                                //item.style.display = 'none';\n\t                            }\n\t                        }\n\t                    }\n\t                }\n\t            };\n\t            loopThroughChildElements(_controls.children);\n\n\t            var topBar = helper.getChildByClass(_controls, 'zvui-pinch__top-bar');\n\t            if (topBar) {\n\t                loopThroughChildElements(topBar.children);\n\t            }\n\t        };\n\n\t        ui.init = function () {\n\n\t            // extend options\n\t            helper.extend(zvuiPinch.options, _defaultUIOptions, true);\n\n\t            // create local link for fast access\n\t            _options = zvuiPinch.options;\n\n\t            // find zvui-pinch__ui element\n\t            _controls = helper.getChildByClass(zvuiPinch.scrollWrap, 'zvui-pinch__ui');\n\n\t            // create local link\n\t            _listen = zvuiPinch.listen;\n\n\t            _setupHidingControlsDuringGestures();\n\n\t            // update controls when slides change\n\t            _listen('beforeChange', ui.update);\n\n\t            // toggle zoom on double-tap\n\t            _listen('doubleTap', function (point) {\n\t                var initialZoomLevel = zvuiPinch.currItem.initialZoomLevel;\n\t                if (zvuiPinch.getZoomLevel() !== initialZoomLevel) {\n\t                    zvuiPinch.zoomTo(initialZoomLevel, point, 333);\n\t                } else {\n\t                    zvuiPinch.zoomTo(_options.getDoubleTapZoom(false, zvuiPinch.currItem), point, 333);\n\t                }\n\t            });\n\n\t            // Allow text selection in caption\n\t            _listen('preventDragEvent', function (e, isDown, preventObj) {\n\t                var t = e.target || e.srcElement;\n\t                if (t && t.getAttribute('class') && e.type.includes('mouse') && (t.getAttribute('class').indexOf('__caption') > 0 || /(SMALL|STRONG|EM)/i.test(t.tagName))) {\n\t                    preventObj.prevent = false;\n\t                }\n\t            });\n\n\t            // bind events for UI\n\t            _listen('bindEvents', function () {\n\t                helper.bind(_controls, 'zvuiPinchTap click', _onControlsTap);\n\t                helper.bind(zvuiPinch.scrollWrap, 'zvuiPinchTap', ui.onGlobalTap);\n\n\t                if (!zvuiPinch.likelyTouchDevice) {\n\t                    helper.bind(zvuiPinch.scrollWrap, 'mouseover', ui.onMouseOver);\n\t                }\n\t            });\n\n\t            // unbind events for UI\n\t            _listen('unbindEvents', function () {\n\t                if (_idleInterval) {\n\t                    clearInterval(_idleInterval);\n\t                }\n\t                helper.unbind(document, 'mouseout', _onMouseLeaveWindow);\n\t                helper.unbind(document, 'mousemove', _onIdleMouseMove);\n\t                helper.unbind(_controls, 'zvuiPinchTap click', _onControlsTap);\n\t                helper.unbind(zvuiPinch.scrollWrap, 'zvuiPinchTap', ui.onGlobalTap);\n\t                helper.unbind(zvuiPinch.scrollWrap, 'mouseover', ui.onMouseOver);\n\n\t                if (_fullscrenAPI) {\n\t                    helper.unbind(document, _fullscrenAPI.eventK, ui.updateFullscreen);\n\t                    if (_fullscrenAPI.isFullscreen()) {\n\t                        _options.hideAnimationDuration = 0;\n\t                        _fullscrenAPI.exit();\n\t                    }\n\t                    _fullscrenAPI = null;\n\t                }\n\t            });\n\n\t            // clean up things when gallery is destroyed\n\t            _listen('destroy', function () {\n\t                if (_options.captionEl) {\n\t                    if (_fakeCaptionContainer) {\n\t                        _controls.removeChild(_fakeCaptionContainer);\n\t                    }\n\t                    helper.removeClass(_captionContainer, 'zvui-pinch__caption--empty');\n\t                }\n\n\t                helper.removeClass(_controls, 'zvui-pinch__ui--over-close');\n\t                helper.addClass(_controls, 'zvui-pinch__ui--hidden');\n\t                ui.setIdle(false);\n\t            });\n\n\t            if (!_options.showAnimationDuration) {\n\t                helper.removeClass(_controls, 'zvui-pinch__ui--hidden');\n\t            }\n\t            _listen('initialZoomIn', function () {\n\t                if (_options.showAnimationDuration) {\n\t                    helper.removeClass(_controls, 'zvui-pinch__ui--hidden');\n\t                }\n\t            });\n\t            _listen('initialZoomOut', function () {\n\t                helper.addClass(_controls, 'zvui-pinch__ui--hidden');\n\t            });\n\n\t            _listen('parseVerticalMargin', _applyNavBarGaps);\n\n\t            _setupUIElements();\n\n\t            _countNumItems();\n\n\t            _setupIdle();\n\n\t            _setupFullscreenAPI();\n\n\t            _setupLoadingIndicator();\n\t        };\n\n\t        ui.setIdle = function (isIdle) {\n\t            _isIdle = isIdle;\n\t            _toggleZvuiPinchClass(_controls, 'ui--idle', isIdle);\n\t        };\n\n\t        ui.update = function () {\n\t            // Don't update UI if it's hidden\n\t            if (_controlsVisible && zvuiPinch.currItem) {\n\n\t                ui.updateIndexIndicator();\n\n\t                if (_options.captionEl) {\n\t                    _options.addCaptionHTMLFn(zvuiPinch.currItem, _captionContainer);\n\n\t                    _toggleZvuiPinchClass(_captionContainer, 'caption--empty', !zvuiPinch.currItem.title);\n\t                }\n\n\t                _overlayUIUpdated = true;\n\t            } else {\n\t                _overlayUIUpdated = false;\n\t            }\n\n\t            _countNumItems();\n\t        };\n\n\t        ui.updateFullscreen = function (e) {\n\n\t            if (e) {\n\t                // some browsers change window scroll position during the fullscreen\n\t                // so PhotoSwipe updates it just in case\n\t                setTimeout(function () {\n\t                    zvuiPinch.setScrollOffset(0, helper.getScrollY());\n\t                }, 50);\n\t            }\n\n\t            // toogle zvui-pinch--fs class on root element\n\t            helper[(_fullscrenAPI.isFullscreen() ? 'add' : 'remove') + 'Class'](zvuiPinch.template, 'zvui-pinch--fs');\n\t        };\n\n\t        ui.updateIndexIndicator = function () {\n\t            if (_options.counterEl) {\n\t                _indexIndicator.innerHTML = zvuiPinch.getCurrentIndex() + 1 + _options.indexIndicatorSep + _options.getNumItemsFn();\n\t            }\n\t        };\n\n\t        ui.onGlobalTap = function (e) {\n\t            e = e || window.event;\n\t            var target = e.target || e.srcElement;\n\n\t            if (_blockControlsTap) {\n\t                return;\n\t            }\n\n\t            if (e.detail && e.detail.pointerType === 'mouse') {\n\n\t                // close gallery if clicked outside of the image\n\t                if (_hasCloseClass(target)) {\n\t                    zvuiPinch.close();\n\t                    return;\n\t                }\n\n\t                if (helper.hasClass(target, 'zvui-pinch__img')) {\n\t                    if (zvuiPinch.getZoomLevel() === 1 && zvuiPinch.getZoomLevel() <= zvuiPinch.currItem.fitRatio) {\n\t                        if (_options.clickToCloseNonZoomable) {\n\t                            zvuiPinch.close();\n\t                        }\n\t                    } else {\n\t                        zvuiPinch.toggleDesktopZoom(e.detail.releasePoint);\n\t                    }\n\t                }\n\t            } else {\n\n\t                // tap anywhere (except buttons) to toggle visibility of controls\n\t                if (_options.tapToToggleControls) {\n\t                    if (_controlsVisible) {\n\t                        ui.hideControls();\n\t                    } else {\n\t                        ui.showControls();\n\t                    }\n\t                }\n\n\t                // tap to close gallery\n\t                if (_options.tapToClose && (helper.hasClass(target, 'zvui-pinch__img') || _hasCloseClass(target))) {\n\t                    zvuiPinch.close();\n\t                    return;\n\t                }\n\t            }\n\t        };\n\t        ui.onMouseOver = function (e) {\n\t            e = e || window.event;\n\t            var target = e.target || e.srcElement;\n\n\t            // add class when mouse is over an element that should close the gallery\n\t            _toggleZvuiPinchClass(_controls, 'ui--over-close', _hasCloseClass(target));\n\t        };\n\n\t        ui.hideControls = function () {\n\t            helper.addClass(_controls, 'zvui-pinch__ui--hidden');\n\t            _controlsVisible = false;\n\t        };\n\n\t        ui.showControls = function () {\n\t            _controlsVisible = true;\n\t            if (!_overlayUIUpdated) {\n\t                ui.update();\n\t            }\n\t            helper.removeClass(_controls, 'zvui-pinch__ui--hidden');\n\t        };\n\n\t        ui.supportsFullscreen = function () {\n\t            var d = document;\n\t            return !!(d.exitFullscreen || d.mozCancelFullScreen || d.webkitExitFullscreen || d.msExitFullscreen);\n\t        };\n\n\t        ui.getFullscreenAPI = function () {\n\t            var dE = document.documentElement;\n\t            var api = void 0;\n\t            var tF = 'fullscreenchange';\n\n\t            if (dE.requestFullscreen) {\n\t                api = {\n\t                    enterK: 'requestFullscreen',\n\t                    exitK: 'exitFullscreen',\n\t                    elementK: 'fullscreenElement',\n\t                    eventK: tF\n\t                };\n\t            } else if (dE.mozRequestFullScreen) {\n\t                api = {\n\t                    enterK: 'mozRequestFullScreen',\n\t                    exitK: 'mozCancelFullScreen',\n\t                    elementK: 'mozFullScreenElement',\n\t                    eventK: 'moz' + tF\n\t                };\n\t            } else if (dE.webkitRequestFullscreen) {\n\t                api = {\n\t                    enterK: 'webkitRequestFullscreen',\n\t                    exitK: 'webkitExitFullscreen',\n\t                    elementK: 'webkitFullscreenElement',\n\t                    eventK: 'webkit' + tF\n\t                };\n\t            } else if (dE.msRequestFullscreen) {\n\t                api = {\n\t                    enterK: 'msRequestFullscreen',\n\t                    exitK: 'msExitFullscreen',\n\t                    elementK: 'msFullscreenElement',\n\t                    eventK: 'MSFullscreenChange'\n\t                };\n\t            }\n\n\t            if (api) {\n\t                api.enter = function () {\n\t                    // disable close-on-scroll in fullscreen\n\t                    _initalCloseOnScrollValue = _options.closeOnScroll;\n\t                    _options.closeOnScroll = false;\n\n\t                    if (this.enterK === 'webkitRequestFullscreen') {\n\t                        zvuiPinch.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT);\n\t                    } else {\n\t                        return zvuiPinch.template[this.enterK]();\n\t                    }\n\t                };\n\t                api.exit = function () {\n\t                    _options.closeOnScroll = _initalCloseOnScrollValue;\n\n\t                    return document[this.exitK]();\n\t                };\n\t                api.isFullscreen = function () {\n\t                    return document[this.elementK];\n\t                };\n\t            }\n\n\t            return api;\n\t        };\n\t    };\n\t});\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n\t  Copyright (c) 2016 Jed Watson.\n\t  Licensed under the MIT License (MIT), see\n\t  http://jedwatson.github.io/classnames\n\t*/\n\t/* global define */\n\n\t(function () {\n\t\t'use strict';\n\n\t\tvar hasOwn = {}.hasOwnProperty;\n\n\t\tfunction classNames () {\n\t\t\tvar classes = [];\n\n\t\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\t\tvar arg = arguments[i];\n\t\t\t\tif (!arg) continue;\n\n\t\t\t\tvar argType = typeof arg;\n\n\t\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\t\tclasses.push(arg);\n\t\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\t\tclasses.push(classNames.apply(null, arg));\n\t\t\t\t} else if (argType === 'object') {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn classes.join(' ');\n\t\t}\n\n\t\tif (typeof module !== 'undefined' && module.exports) {\n\t\t\tmodule.exports = classNames;\n\t\t} else if (true) {\n\t\t\t// register as 'classnames', consistent with npm package name\n\t\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function () {\n\t\t\t\treturn classNames;\n\t\t\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t} else {\n\t\t\twindow.classNames = classNames;\n\t\t}\n\t}());\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = ['beforeChange', 'afterChange', 'imageLoadComplete', 'resize', 'initialZoomIn', 'initialZoomInEnd', 'initialZoomOut', 'initialZoomOutEnd', 'close', 'unbindEvents', 'destroy', 'updateScrollOffset', 'preventDragEvent'];\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\n\tfunction preserveCamelCase(str) {\n\t\tvar isLastCharLower = false;\n\n\t\tfor (var i = 0; i < str.length; i++) {\n\t\t\tvar c = str.charAt(i);\n\n\t\t\tif (isLastCharLower && (/[a-zA-Z]/).test(c) && c.toUpperCase() === c) {\n\t\t\t\tstr = str.substr(0, i) + '-' + str.substr(i);\n\t\t\t\tisLastCharLower = false;\n\t\t\t\ti++;\n\t\t\t} else {\n\t\t\t\tisLastCharLower = (c.toLowerCase() === c);\n\t\t\t}\n\t\t}\n\n\t\treturn str;\n\t}\n\n\tmodule.exports = function () {\n\t\tvar str = [].map.call(arguments, function (str) {\n\t\t\treturn str.trim();\n\t\t}).filter(function (str) {\n\t\t\treturn str.length;\n\t\t}).join('-');\n\n\t\tif (!str.length) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (str.length === 1) {\n\t\t\treturn str.toLowerCase();\n\t\t}\n\n\t\tif (!(/[_.\\- ]+/).test(str)) {\n\t\t\tif (str === str.toUpperCase()) {\n\t\t\t\treturn str.toLowerCase();\n\t\t\t}\n\n\t\t\tif (str[0] !== str[0].toLowerCase()) {\n\t\t\t\treturn str[0].toLowerCase() + str.slice(1);\n\t\t\t}\n\n\t\t\treturn str;\n\t\t}\n\n\t\tstr = preserveCamelCase(str);\n\n\t\treturn str\n\t\t.replace(/^[_.\\- ]+/, '')\n\t\t.toLowerCase()\n\t\t.replace(/[_.\\- ]+(\\w|$)/g, function (m, p1) {\n\t\t\treturn p1.toUpperCase();\n\t\t});\n\t};\n\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }\n/******/ ])\n});\n;"],
  "mappings": "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",
  "names": ["module", "exports", "PinchZoom", "_initialiseProps", "require", "_handleEv", "_getEmptyPoint", "_registerModule", "_getLoopedId", "_listen", "_shout", "_getCurrentTime", "_applyBgOpacity", "_applyZoomTransform", "_applyCurrentZoomPan", "_applyZoomPanToItem", "_setTranslateX", "_moveMainScroll", "_calculatePanOffset", "_equalizePoints", "p2", "_roundPoint", "p", "_onFirstMouseMove", "_bindEvents", "_unbindEvents", "_calculatePanBounds", "_getMinZoomLevel", "_getMaxZoomLevel", "_modifyDestPanOffset", "_setupTransforms", "_onKeyDown", "_onGlobalClick", "_updatePageScrollOffset", "_stopAnimation", "_registerStartAnimation", "_stopAllAnimations", "_animateProp", "animloop", "onUpdate", "_isEqualPoints", "_isNearbyPoints", "_calculatePointsDistance", "_stopDragUpdateLoop", "_dragUpdateLoop", "_canPan", "_closestElement", "_preventDefaultEventBehaviour", "_convertTouchToPoint", "_findCenterOfPoints", "_pushPosPoint", "_calculateVerticalDragOpacityRatio", "_getTouchPoints", "_panOrMoveMainScroll", "delta", "_onDragStart", "_onDragMove", "_renderMovement", "_onDragRelease", "_initDragReleaseAnimationData", "_completePanGesture", "_finishSwipeMainScrollGesture", "_releaseAnimData", "_calculateZoomLevel", "_completeZoomGesture", "addEventNames", "_showOrHide", "onComplete", "startAnimation", "_getZeroBounds", "_calculateSingleItemPanBounds", "_calculateItemSize", "_appendImage", "_preloadImage", "_checkForError", "_setImageSize", "_appendImagesPool", "item", "_dispatchTapEvent", "_onControlsTap", "_fitControlsInViewport", "_toggleZvuiPinchClass", "_countNumItems", "_hasCloseClass", "_onIdleMouseMove", "_onMouseLeaveWindow", "_setupFullscreenAPI", "_setupLoadingIndicator", "_toggleLoadingIndicator", "_applyNavBarGaps", "_setupIdle", "_setupHidingControlsDuringGestures", "_setupUIElements", "loopThroughChildElements", "str"]
}
